{"id":"i-5swp","uuid":"f27d1b7d-bac2-404d-9c40-6bf23e5a2e4d","title":"DEV-001: 에이전트 입력 테이블 사용 컬럼을 SSOT로 고정하면 구현 중 스키마 혼선이 사라진다","content":"Roadmap Task ID: DEV-001\nGate: G1\nEpic: EPIC-01 - Spec SSOT 정합성을 고정한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: -\n\nDoD Checklist:\n- [ ] `.specs/data_contract.md`에 `gold.pipeline_state`, `silver.dq_status`, `gold.exception_ledger`, `silver.bad_records`의 **에이전트 사용 컬럼만** 정리되어 있다\n- [ ] `gold.pipeline_state.status` 컬럼이 SSOT 문서에 포함되고(기획서의 ⚠️ 불일치 해소), “SSOT는 data_contract.md”로 명시돼 있다\n- [ ] `silver.bad_records.reason` 포맷이 **현재 가정 + 확인 필요**로 명시되고, field 추출이 불확실할 때의 fallback(예: field=`\"unknown\"`) 원칙이 문서에 있다\n- [ ] 기획서(본 문서)에서 `data_contract.md`로의 참조 링크가 연결돼 있다\n- [ ] 문서 변경 후 기존 CI(테스트/린트/포맷)가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:17","updated_at":"2026-02-21 18:38:24","closed_at":"2026-02-21 18:38:24","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-5swp","from_type":"issue","to":"i-4wpn","to_type":"issue","type":"blocks"},{"from":"i-5swp","from_type":"issue","to":"i-608f","to_type":"issue","type":"blocks"},{"from":"i-5swp","from_type":"issue","to":"i-6570","to_type":"issue","type":"blocks"},{"from":"i-5swp","from_type":"issue","to":"i-6u2v","to_type":"issue","type":"blocks"},{"from":"i-5swp","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-5swp","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-01","gate:G1","task:DEV-001","verify:L1"],"feedback":[{"id":"182cadbf-40ab-4579-8e6a-a9ca6752e47c","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"Manual-approval guard applied by operator correction.\n\n- This task is `Approval: manual`, so it should pause for human review/PR path instead of auto-close.\n- Issue status has been reverted to `in_progress` and is now waiting for manual review decision.\n- Verification evidence remains valid from latest run:\n  - `python3 -m pytest tests/unit/ -x` (71 passed)\n  - `pre-commit run --all-files` (passed)\n- Next action: open PR for review and close only after manual approval.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:16:50.981Z","updated_at":"2026-02-21T13:16:50.981Z"},{"id":"1c49984b-809a-4c4d-bb5d-0279cc54bdbb","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"State correction: issue moved to `needs_review` via MCP status update.\n\n- Confirmed MCP accepts `status=\"needs_review\"`.\n- Web UI and readiness counters now align (`needs_review: 1`, issue excluded from ready queue).\n- Manual-approval flow should use `needs_review` as the review gate state, then close after approval.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:20:40.938Z","updated_at":"2026-02-21T13:20:40.938Z"},{"id":"1e11d719-b797-4b69-9746-1c2b2c463bff","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"{\"schema_version\":\"loop_snapshot.v1\",\"session_id\":\"d40ab3a9-4fda-57f6-ab3d-2d9613781db2\",\"orchestrator_id\":\"orch-main\",\"issue_id\":\"i-5swp\",\"task_id\":\"DEV-001\",\"event_type\":\"SESSION_DONE\",\"stage\":\"DONE\",\"status\":\"PASS\",\"attempts\":{\"spec\":1,\"quality\":1},\"failed_items\":[],\"fix_list\":[],\"verify\":{\"command\":\"python3 -m pytest tests/unit/ -x && pre-commit run --all-files\",\"exit_code\":0,\"produced_at\":\"2026-02-21T13:14:22.699748Z\"},\"timestamp\":\"2026-02-21T13:14:40Z\"}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:14:42.829Z","updated_at":"2026-02-21T13:14:42.829Z"},{"id":"21955ee8-1d80-4025-bc02-772779202194","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"Workflow marker updated: `workflow:needs_review` tag added.\n\nCurrent interpretation for manual-approval tasks:\n- keep `status=in_progress` (prevents auto pickup)\n- mark review gate explicitly via tag/feedback\n- close only after human approval + PR review path","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:18:48.104Z","updated_at":"2026-02-21T13:18:48.104Z"},{"id":"3e1f0d3e-a551-4635-8660-a86f70d41915","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"{\"schema_version\":\"loop_snapshot.v1\",\"session_id\":\"d40ab3a9-4fda-57f6-ab3d-2d9613781db2\",\"orchestrator_id\":\"orch-main\",\"issue_id\":\"i-5swp\",\"task_id\":\"DEV-001\",\"event_type\":\"SESSION_START\",\"stage\":\"RUNNING\",\"status\":\"START\",\"attempts\":{\"spec\":0,\"quality\":0},\"failed_items\":[],\"fix_list\":[],\"verify\":null,\"timestamp\":\"2026-02-21T13:10:00Z\"}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:09:58.234Z","updated_at":"2026-02-21T13:09:58.234Z"},{"id":"4bc2a0a1-24aa-417e-bf06-8a634238efa4","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"Merge-close precheck (non-mutating simulation) indicates close is currently blocked: missing review-gate marker in feedback history (expected SESSION_DONE/OVERFLOW_FIX_CREATED with stage=REVIEW_GATE and status=NEEDS_REVIEW). Next steps: ensure PR body contains canonical 'Sudocode-Issue: i-5swp' and write a REVIEW_GATE terminal marker, then rerun scripts/sudocode_close_on_merge.py in event/operator mode.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T14:47:46.659Z","updated_at":"2026-02-21T14:47:46.659Z"},{"id":"8ebb05a2-ddbc-4ae0-bf0a-6ac480952327","from_id":"i-5swp","to_id":"s-6tbj","feedback_type":"comment","content":"DEV-001 implemented by tightening SSOT wording in `.specs/data_contract.md` and linking from `.specs/ai_agent_spec.md`.\n\n- Confirmed agent-input column SSOT is explicitly `data_contract.md`.\n- `gold.pipeline_state.status` remains in SSOT table.\n- `silver.bad_records.reason` section keeps \"현재 가정 + 확인 필요\" and fallback rule `field=\"unknown\"`.\n- Spec doc now references `data_contract.md` with explicit SSOT wording.\n\nVerification evidence:\n- `python3 -m pytest tests/unit/ -x` -> 71 passed\n- `pre-commit run --all-files` -> passed","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:14:34.308Z","updated_at":"2026-02-21T13:14:34.308Z"},{"id":"9fc6864f-9f85-4beb-903b-a5892383b63b","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"PR opened: https://github.com/Naver-Dunamu-Merge-TF/NSC-pipeline-ops-agent/pull/4 (base: dev, head: issue/i-5swp).","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T16:15:50.157Z","updated_at":"2026-02-21T16:15:50.157Z"},{"id":"a2a49df0-3874-4197-a97e-76a475fb807e","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"{\"schema_version\":\"loop_snapshot.v1\",\"session_id\":\"d40ab3a9-4fda-57f6-ab3d-2d9613781db2\",\"orchestrator_id\":\"orch-main\",\"issue_id\":\"i-5swp\",\"task_id\":\"DEV-001\",\"event_type\":\"SPEC_REVIEW_PASS\",\"stage\":\"SPEC_REVIEW\",\"status\":\"PASS\",\"attempts\":{\"spec\":1,\"quality\":0},\"failed_items\":[],\"fix_list\":[],\"verify\":{\"command\":\"python3 -m pytest tests/unit/ -x\",\"exit_code\":0,\"produced_at\":\"2026-02-21T22:12:00+09:00\"},\"timestamp\":\"2026-02-21T13:13:10Z\"}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:13:33.954Z","updated_at":"2026-02-21T13:13:33.954Z"},{"id":"a51a2c14-996d-47e9-b47f-4c109c15c16d","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"{\"schema_version\":\"loop_snapshot.v1\",\"session_id\":\"d40ab3a9-4fda-57f6-ab3d-2d9613781db2\",\"orchestrator_id\":\"orch-main\",\"issue_id\":\"i-5swp\",\"task_id\":\"DEV-001\",\"event_type\":\"IMPLEMENT_DONE\",\"stage\":\"RUNNING\",\"status\":\"PASS\",\"attempts\":{\"spec\":0,\"quality\":0},\"failed_items\":[],\"fix_list\":[],\"verify\":{\"command\":\"python3 -m pytest tests/unit/ -x\",\"exit_code\":0,\"produced_at\":\"2026-02-21T22:12:00+09:00\"},\"timestamp\":\"2026-02-21T13:12:10Z\"}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:12:21.524Z","updated_at":"2026-02-21T13:12:21.524Z"},{"id":"b852c19b-e49f-418d-bdff-83b49e910459","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"PR #4 had historical branch conflicts and was superseded. Current active PR: https://github.com/Naver-Dunamu-Merge-TF/NSC-pipeline-ops-agent/pull/5 (head: issue/i-5swp-clean, base: dev).","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T16:18:48.695Z","updated_at":"2026-02-21T16:18:48.695Z"},{"id":"e7347a6d-d674-485d-86a3-098865721c7a","from_id":"i-5swp","to_id":"i-5swp","feedback_type":"comment","content":"{\"schema_version\":\"loop_snapshot.v1\",\"session_id\":\"d40ab3a9-4fda-57f6-ab3d-2d9613781db2\",\"orchestrator_id\":\"orch-main\",\"issue_id\":\"i-5swp\",\"task_id\":\"DEV-001\",\"event_type\":\"QUALITY_REVIEW_PASS\",\"stage\":\"QUALITY_REVIEW\",\"status\":\"PASS\",\"attempts\":{\"spec\":1,\"quality\":1},\"failed_items\":[],\"fix_list\":[],\"verify\":{\"command\":\"python3 -m pytest tests/unit/ -x\",\"exit_code\":0,\"produced_at\":\"2026-02-21T22:12:00+09:00\"},\"timestamp\":\"2026-02-21T13:14:00Z\"}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T13:14:03.858Z","updated_at":"2026-02-21T13:14:03.858Z"}]}
{"id":"i-66ek","uuid":"749e17f0-a6e1-4939-aa01-0b67ba71561d","title":"DEV-002: 파이프라인별 감지 스케줄/임계값을 설정으로 고정하면 detect가 동일 규칙으로 판단한다","content":"Roadmap Task ID: DEV-002\nGate: G1\nEpic: EPIC-01 - Spec SSOT 정합성을 고정한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: -\n\nDoD Checklist:\n- [ ] `config/pipeline_monitoring.yaml`(또는 동등 파일)에 `pipeline_silver/pipeline_b/pipeline_c/pipeline_a`의 감지 윈도우/폴링 주기/컷오프 임계값이 §2.3과 동일하게 기록돼 있다\n- [ ] “임계값 **초과** 시 컷오프 지연” 같은 경계 정의(=와 >)가 설정 파일 주석/문서에 명확하다\n- [ ] 설정 스키마 검증(필수 키 누락/타입 오류)이 동작한다(예: Pydantic/Schema)\n- [ ] 설정 로딩 단위 테스트(정상 로드 + 필수 키 누락 실패)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:17","updated_at":"2026-02-22 15:13:59","closed_at":"2026-02-22 15:13:59","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-66ek","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-66ek","from_type":"issue","to":"i-4wpn","to_type":"issue","type":"blocks"},{"from":"i-66ek","from_type":"issue","to":"i-608f","to_type":"issue","type":"blocks"},{"from":"i-66ek","from_type":"issue","to":"i-6570","to_type":"issue","type":"blocks"},{"from":"i-66ek","from_type":"issue","to":"i-6u2v","to_type":"issue","type":"blocks"},{"from":"i-66ek","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-66ek","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-01","gate:G1","task:DEV-002","verify:L1"],"feedback":[{"id":"01a252ae-d2f1-4ced-a437-0f4cd07a0599","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"VERIFY_PASS\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"5be60f8f-32eb-4abe-a823-8a3cd029e1b9\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-22T12:37:10.000000+00:00\",\n  \"verification_exit_code\": 0,\n  \"verification_command\": \"python -m pytest tests/unit/ -x\",\n  \"verification_summary\": \"132 passed in 0.21s\",\n  \"produced_at\": \"2026-02-22T12:36:29.179729+00:00\",\n  \"code_changed_at\": \"2026-02-22T12:35:58.185547+00:00\",\n  \"freshness_check\": \"produced_at >= code_changed_at\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T12:37:15.163Z","updated_at":"2026-02-22T12:37:15.163Z"},{"id":"090936ae-dd91-49b7-8cd9-0422830e4af8","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"IMPLEMENT_DONE\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"5be60f8f-32eb-4abe-a823-8a3cd029e1b9\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-22T12:36:29.179729+00:00\",\n  \"attempts\": {\n    \"spec\": 0,\n    \"quality\": 0\n  },\n  \"verification\": {\n    \"command\": \"python -m pytest tests/unit/ -x\",\n    \"exit_code\": 0,\n    \"produced_at\": \"2026-02-22T12:36:29.179729+00:00\",\n    \"code_changed_at\": \"2026-02-22T12:35:58.185547+00:00\",\n    \"summary\": \"132 passed in 0.21s\"\n  },\n  \"notes\": \"Added pipeline monitoring YAML SSOT, strict Pydantic schema validation loader, and unit tests for happy path plus missing-key/type errors.\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T12:36:52.444Z","updated_at":"2026-02-22T12:36:52.444Z"},{"id":"11c8598d-b6f6-4ea9-8a31-8fd349d6655f","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"SESSION_START\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"73de801e-99f0-46fa-b9a8-60b3645939de\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-21T18:38:00.891755+00:00\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T18:38:10.422Z","updated_at":"2026-02-21T18:38:10.422Z"},{"id":"4f243232-78e9-4a8f-b186-66a745e8e3ac","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"SESSION_START\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"5be60f8f-32eb-4abe-a823-8a3cd029e1b9\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-22T12:33:08.900363+00:00\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T12:33:20.290Z","updated_at":"2026-02-22T12:33:20.290Z"},{"id":"66f276c3-005b-49eb-8755-2b94c8050be2","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"SPEC_REVIEW_PASS\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"5be60f8f-32eb-4abe-a823-8a3cd029e1b9\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-22T12:36:55.000000+00:00\",\n  \"attempt\": \"1/3\",\n  \"failed_items\": [],\n  \"notes\": \"DoD items satisfied: config values match .specs §2.3 table, strict '>' boundary documented in config comments, schema validation enforces required keys/types, and unit coverage added for load/missing key/type errors.\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T12:36:57.048Z","updated_at":"2026-02-22T12:36:57.048Z"},{"id":"672bbb43-ca21-4415-8482-4f4c36f15703","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"SESSION_ERROR\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"73de801e-99f0-46fa-b9a8-60b3645939de\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-21T18:44:57.889589+00:00\",\n  \"error\": \"USER_CANCELLED\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T18:45:08.141Z","updated_at":"2026-02-21T18:45:08.141Z"},{"id":"75f97113-961d-4347-9410-b8f788809193","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"SESSION_DONE\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"5be60f8f-32eb-4abe-a823-8a3cd029e1b9\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-22T12:37:19.281934+00:00\",\n  \"terminal_boundary\": \"needs_review\",\n  \"attempts\": {\n    \"spec\": 1,\n    \"quality\": 1\n  },\n  \"verification\": {\n    \"command\": \"python -m pytest tests/unit/ -x\",\n    \"exit_code\": 0,\n    \"summary\": \"132 passed in 0.21s\",\n    \"produced_at\": \"2026-02-22T12:36:29.179729+00:00\",\n    \"code_changed_at\": \"2026-02-22T12:35:58.185547+00:00\"\n  }\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T12:37:28.786Z","updated_at":"2026-02-22T12:37:28.786Z"},{"id":"86fbf40d-a8b7-4ca3-8bad-e3da1077849f","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"SESSION_START\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"d35969d8-fbc7-4dcf-a2d0-f43ac340122b\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-21T18:33:20.666541+00:00\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T18:33:30.208Z","updated_at":"2026-02-21T18:33:30.208Z"},{"id":"d4d1b670-c271-464d-8f6e-9e1df4370510","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"SESSION_ERROR\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"d35969d8-fbc7-4dcf-a2d0-f43ac340122b\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-21T18:34:39.644645+00:00\",\n  \"error\": \"USER_CANCELLED\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-21T18:34:47.029Z","updated_at":"2026-02-21T18:34:47.029Z"},{"id":"f2aea458-6d0e-46dd-b232-9a172dddeb2a","from_id":"i-66ek","to_id":"i-66ek","feedback_type":"comment","content":"{\n  \"schema_version\": \"loop_snapshot.v1\",\n  \"event_type\": \"QUALITY_REVIEW_PASS\",\n  \"issue_id\": \"i-66ek\",\n  \"task_id\": \"DEV-002\",\n  \"session_id\": \"5be60f8f-32eb-4abe-a823-8a3cd029e1b9\",\n  \"orchestrator_id\": \"run-one-skill\",\n  \"timestamp\": \"2026-02-22T12:37:02.000000+00:00\",\n  \"attempt\": \"1/2\",\n  \"failed_items\": [],\n  \"notes\": \"Implementation is task-scoped and minimal; schema enforces strict typing and required pipelines; unit test suite passes cleanly with no regressions.\"\n}","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T12:37:04.569Z","updated_at":"2026-02-22T12:37:04.569Z"}]}
{"id":"i-206c","uuid":"442aab8b-0bf6-4447-8547-f6b652278001","title":"DEV-011: UTC/KST 변환 유틸을 제공하면 시간 비교와 표기가 일관된다","content":"Roadmap Task ID: DEV-011\nGate: G2\nEpic: EPIC-06 - Time Policy 유틸을 구현한다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: -\n\nDoD Checklist:\n- [x] `utils/time.py`에 `to_utc()`, `to_kst()`, `parse_pipeline_ts()`가 구현돼 있다(§2.5 Time Policy)\n- [x] KST 표시 포맷이 문서 예시(`YYYY-MM-DD HH:MM KST`)와 정합하다\n- [x] 경계 테스트(자정/날짜 변경, timezone-aware/naive 입력)가 존재한다\n- [x] 잘못된 입력 포맷에서 명확한 예외가 난다\n- [x] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 15:43:25","closed_at":"2026-02-22 15:43:25","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-206c","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-206c","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-206c","from_type":"issue","to":"i-3rwg","to_type":"issue","type":"blocks"},{"from":"i-206c","from_type":"issue","to":"i-511g","to_type":"issue","type":"blocks"},{"from":"i-206c","from_type":"issue","to":"i-7a8f","to_type":"issue","type":"blocks"},{"from":"i-206c","from_type":"issue","to":"i-904x","to_type":"issue","type":"blocks"},{"from":"i-206c","from_type":"issue","to":"i-983e","to_type":"issue","type":"blocks"},{"from":"i-206c","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-06","gate:G2","task:DEV-011","verify:L1"],"feedback":[{"id":"1ae05e4e-5c5b-40e0-b4a6-74233f339235","from_id":"i-206c","to_id":"s-6tbj","feedback_type":"comment","content":"Approve flow completed for DEV-011.\n\nImplemented UTC/KST time normalization utilities and tests:\n- `parse_pipeline_ts()`, `to_utc()`, `to_kst()`\n- KST display format fixed to `YYYY-MM-DD HH:MM KST`\n- boundary tests for aware/naive and date rollover\n- clear invalid-format `ValueError`\n\nMerged into `dev` via merge commit `07465e0` (feature commit `2c524c0`).","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T15:43:22.890Z","updated_at":"2026-02-22T15:43:22.890Z"},{"id":"4e69fc54-f01d-41e4-b0b8-5f2714f80ad3","from_id":"i-206c","to_id":"i-206c","feedback_type":"comment","content":"RUN_ONE_DONE\n\nImplemented UTC/KST time utilities and tests in dedicated worktree branch `i-206c-dev-011`.\n\nChanged files:\n- `src/sudocode_orchestrator/utils/time.py`\n- `src/sudocode_orchestrator/utils/__init__.py`\n- `src/utils/time.py` (required-path compatibility export)\n- `src/utils/__init__.py`\n- `tests/unit/test_time_utils.py`\n\nCoverage implemented:\n- `parse_pipeline_ts()`, `to_utc()`, `to_kst()`\n- Exact KST format: `YYYY-MM-DD HH:MM KST`\n- Boundary tests: aware/naive + date rollover\n- Invalid format raises clear `ValueError`\n\nVerification:\n- `python3 -m pytest tests/unit/test_time_utils.py -q` -> 7 passed\n- `python3 -m pytest tests/unit -q` -> 132 passed\n\nSubagent review loop:\n- Spec compliance re-review: PASS (no blocking findings)\n- Code quality re-review: APPROVE (no blocking findings)","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T15:32:27.280Z","updated_at":"2026-02-22T15:32:27.280Z"},{"id":"7179b20f-11a9-48f1-89ab-bbfd0f810e3a","from_id":"i-206c","to_id":"i-206c","feedback_type":"comment","content":"SESSION_DONE\n\nImplemented `src/utils/time.py` with:\n- `parse_pipeline_ts()` for ISO8601 parsing and UTC normalization\n- `to_utc()` handling timezone-aware and naive inputs\n- `to_kst()` rendering `YYYY-MM-DD HH:MM KST`\n\nAdded `tests/unit/test_time_utils.py` covering:\n- aware/naive normalization\n- `Z` suffix parsing\n- midnight/date rollover to KST display\n- invalid format error path\n\nVerification evidence:\n- `python3 -m py_compile src/utils/time.py tests/unit/test_time_utils.py` (pass)\n- `python3 -m pytest tests/unit/test_time_utils.py -x` (5 passed)\n- `python3 -m pytest tests/unit/ -x` (134 passed)","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T13:12:56.519Z","updated_at":"2026-02-22T13:12:56.519Z"}]}
{"id":"i-2hcm","uuid":"e37c0b6b-4b21-4dc6-a9a8-8586206c8160","title":"DEV-003: verify/rollback 대상 정의를 설정으로 고정하면 검증과 롤백 구현이 즉시 가능하다","content":"Roadmap Task ID: DEV-003\nGate: G1\nEpic: EPIC-02 - verify/rollback 대상 카탈로그를 고정한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: -\n\nDoD Checklist:\n- [ ] `config/validation_targets.yaml`(또는 동등 파일)에 verify #1~#5의 **대상 테이블/PK/임계값/정책(rollback 여부)**가 기획서 표와 동일하게 정의돼 있다\n- [ ] “전일 대비 ±50%”의 경계(=50%는 통과/실패 중 무엇인지)가 명확히 정의돼 있다\n- [ ] rollback 대상 Delta 테이블 목록이 설정에 포함돼 있다\n- [ ] 설정 스키마 검증(필수 키, pk 배열 타입 등) 테스트가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 15:25:19","closed_at":"2026-02-22 15:25:19","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2hcm","from_type":"issue","to":"i-52vw","to_type":"issue","type":"blocks"},{"from":"i-2hcm","from_type":"issue","to":"i-6yef","to_type":"issue","type":"blocks"},{"from":"i-2hcm","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-2hcm","from_type":"issue","to":"i-93zh","to_type":"issue","type":"blocks"},{"from":"i-2hcm","from_type":"issue","to":"i-9tdp","to_type":"issue","type":"blocks"},{"from":"i-2hcm","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-02","gate:G1","task:DEV-003","verify:L1"],"feedback":[{"id":"9b86d55c-323a-4fac-9978-7cb1fb8bd1bb","from_id":"i-2hcm","to_id":"s-6tbj","feedback_type":"comment","content":"DEV-003 구현 완료:\n- `config/validation_targets.yaml`에 verify #1~#5 대상/PK/임계값/rollback 정책 및 rollback 대상 Delta 테이블 목록을 고정했습니다.\n- ±50% 경계는 `>= 0.5` 실패로 명시했습니다.\n- `src/sudocode_orchestrator/validation_targets_config.py`에 strict Pydantic 스키마 로더를 추가했습니다.\n- `tests/unit/test_validation_targets_config.py`로 정상 로드, 필수 키 누락, `pk` 타입 오류 검증을 추가했습니다.\n- 검증: `python -m pytest tests/unit tests/integration --cov=src --cov-fail-under=80` => 130 passed, coverage 89.43%.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T15:25:15.373Z","updated_at":"2026-02-22T15:25:15.373Z"}]}
{"id":"i-32vd","uuid":"182b9d32-7aa8-4a79-be6b-50754587984a","title":"DEV-005: Key Vault 시크릿을 동일 인터페이스로 로드하면 dev/staging/prod에서 설정 주입 방식이 통일된다","content":"Roadmap Task ID: DEV-005\nGate: G1\nEpic: EPIC-03 - 런타임 설정/시크릿 계약을 고정한다\nVerify: L2\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004\n\nDoD Checklist:\n- [ ] `utils/secrets.py`에 `get_secret(key: str) -> str`(또는 동등) 인터페이스가 있고, Key Vault 키(예: `azure-openai-api-key`, `databricks-agent-token`)를 로드할 수 있다\n- [ ] 로컬/테스트에서는 stub(환경변수 또는 테스트 더블)로 동작해 단위 테스트가 가능하다\n- [ ] dev Databricks 환경에서 **최소 1개 시크릿**(예: `azure-openai-endpoint`)을 실제로 읽는 스모크가 통과한다\n- [ ] 실패 시 Transient/Permanent 분류가 가능하도록 예외 타입/에러 메시지 규약이 있다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 16:26:32","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-32vd","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-3yss","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-50eo","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-6zrl","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-7a8f","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"i-9s8w","to_type":"issue","type":"blocks"},{"from":"i-32vd","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-03","gate:G1","task:DEV-005","verify:L2"]}
{"id":"i-4p6t","uuid":"1e6aa734-b87f-432b-b5be-15f53a7cf1ee","title":"DEV-004: 런타임 설정을 Pydantic으로 검증하면 누락/오타가 실행 초기에 실패한다","content":"Roadmap Task ID: DEV-004\nGate: G1\nEpic: EPIC-03 - 런타임 설정/시크릿 계약을 고정한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: -\n\nDoD Checklist:\n- [ ] `utils/config.py`에 런타임 설정 모델이 정의돼 있고, `TARGET_PIPELINES`, `CHECKPOINT_DB_PATH`, `LLM_DAILY_CAP`, `LANGFUSE_HOST` 등을 로드/검증한다\n- [ ] `TARGET_PIPELINES`가 `pipeline_silver,pipeline_b,...` 문자열에서 공백 제거 포함해 list로 안정적으로 파싱된다\n- [ ] `CHECKPOINT_DB_PATH` 기본값이 기획서 기본값(로컬 `checkpoints/agent.db`)과 정합하다\n- [ ] `LLM_DAILY_CAP` 미설정 시 기본값 30이 적용되고, 설정 시 override 값이 적용되며 양의 정수 검증이 수행된다\n- [ ] 누락 시 “어떤 키가 누락됐는지”를 포함한 오류로 fail-fast한다\n- [ ] 단위 테스트(정상/누락/형식 오류)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 15:31:00","closed_at":"2026-02-22 15:31:00","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-4p6t","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-32vd","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-3yss","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-50eo","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-6zrl","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-7a8f","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-7eux","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"i-9s8w","to_type":"issue","type":"blocks"},{"from":"i-4p6t","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-03","gate:G1","task:DEV-004","verify:L1"],"feedback":[{"id":"e49b85cf-1567-44e2-b70a-c255fd9ab770","from_id":"i-4p6t","to_id":"s-6tbj","feedback_type":"comment","content":"Implemented DEV-004 runtime settings contract via `src/sudocode_orchestrator/utils/config.py` with a Pydantic model and loader.\n\nDelivered behavior:\n- Validates `TARGET_PIPELINES`, `CHECKPOINT_DB_PATH`, `LLM_DAILY_CAP`, and `LANGFUSE_HOST` at startup.\n- Parses `TARGET_PIPELINES` from comma-separated input with whitespace trimming and rejects empty entries.\n- Applies default `CHECKPOINT_DB_PATH=checkpoints/agent.db`.\n- Applies default `LLM_DAILY_CAP=30`, supports override, and enforces positive integer values.\n- Fails fast with missing-key names included in the error message.\n\nVerification:\n- Added unit tests in `tests/unit/test_runtime_config.py` for normal path, missing keys, and format/validation errors.\n- Full test suite passed: `132 passed`.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T15:30:58.547Z","updated_at":"2026-02-22T15:30:58.547Z"}]}
{"id":"i-4wpn","uuid":"b3c0b05b-21e2-4ccb-8cbc-8898018cefed","title":"DEV-009: 프로젝트 구조와 AgentState가 코드에 정의되면 노드 구현을 병렬로 시작할 수 있다","content":"Roadmap Task ID: DEV-009\nGate: G2\nEpic: EPIC-05 - 프로젝트 스켈레톤 + LangGraph 골격을 구축한다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-001, DEV-002\n\nDoD Checklist:\n- [ ] §4.2 구조대로 `graph/`, `tools/`, `utils/`, `llmops/`, `prompts/`, `tests/` 기본 뼈대가 생성돼 있다\n- [ ] `graph/state.py`에 `AgentState`, `ActionPlan`, `TriageReport(Pydantic)`가 기획서 스키마(§2.2, §2.4)와 동일하게 정의돼 있다\n- [ ] `graph/nodes/*` 파일이 생성돼 있고, 각 노드는 “읽기/쓰기 필드 원칙(§2.2.1)”을 어기지 않는 시그니처/스텁을 가진다\n- [ ] `import`/패키지 로딩이 깨지지 않는다(기본 import 테스트 존재)\n- [ ] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 16:12:35","closed_at":"2026-02-22 16:12:35","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-4wpn","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-3rwg","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-5omm","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-608f","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-6570","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-6u2v","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-6zrl","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-7a8f","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"i-904x","to_type":"issue","type":"blocks"},{"from":"i-4wpn","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-05","gate:G2","task:DEV-009","verify:L1"]}
{"id":"i-5x0d","uuid":"c14a7d59-85c6-4c41-a805-20e4545c9ea7","title":"DEV-008: Databricks Job 식별자 매핑을 설정으로 고정하면 실행기가 올바른 Job을 호출한다","content":"Roadmap Task ID: DEV-008\nGate: G1\nEpic: EPIC-04 - Databricks 실행 액션 계약을 고정한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: -\n\nDoD Checklist:\n- [ ] `config/databricks_jobs.yaml`(또는 동등)에 파이프라인/액션 → Databricks Job ID 매핑이 정의돼 있다(환경별 값은 추후 주입 가능)\n- [ ] 설정 로딩/검증 테스트(숫자 타입, 중복 키, 누락)가 존재한다\n- [ ] 문서(`.specs/runtime_config.md`)에 “어디에 Job ID를 넣는지”가 명시돼 있다\n- [ ] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 15:32:54","closed_at":"2026-02-22 15:32:54","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-5x0d","from_type":"issue","to":"i-50eo","to_type":"issue","type":"blocks"},{"from":"i-5x0d","from_type":"issue","to":"i-6k1l","to_type":"issue","type":"blocks"},{"from":"i-5x0d","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-5x0d","from_type":"issue","to":"i-7wk0","to_type":"issue","type":"blocks"},{"from":"i-5x0d","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-04","gate:G1","task:DEV-008","verify:L1"],"feedback":[{"id":"c56406e0-1054-4a5f-842f-f85d270f1eca","from_id":"i-5x0d","to_id":"s-6tbj","feedback_type":"comment","content":"Implemented DEV-008 by externalizing Databricks job routing into `config/databricks_jobs.yaml` with strict `jobs.<pipeline>.<action>` schema validation in `src/sudocode_orchestrator/databricks_jobs_config.py`. Added unit coverage for missing required keys, non-numeric job IDs, and duplicate YAML keys with location-aware constructor errors. Documented runtime configuration location in `.specs/runtime_config.md` and recorded schema decision rationale in ADR `docs/adr/0001-fix-databricks-job-mapping-schema.md`. Full pytest run passed in issue worktree before merge.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T15:32:50.615Z","updated_at":"2026-02-22T15:32:50.615Z"}]}
{"id":"i-608f","uuid":"27dabbb8-9b54-4dee-a539-9261c7635396","title":"DEV-014: 입력 테이블을 조회하는 data_collector가 구현되면 detect/collect가 실제 데이터를 읽는다","content":"Roadmap Task ID: DEV-014\nGate: G2\nEpic: EPIC-08 - 데이터 수집기(collect용 SQL 집계/샘플링)를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-001, DEV-002, DEV-009\n\nDoD Checklist:\n- [ ] `tools/data_collector.py`에 `gold.pipeline_state`, `silver.dq_status`, `gold.exception_ledger` 조회 함수가 구현돼 있다(§2.2.2)\n- [ ] SQL이 윈도우/파이프라인/run_id 필터를 적용해 과도한 스캔을 피한다\n- [ ] 반환 포맷(dict/list)이 `AgentState`에 바로 넣을 수 있는 형태로 정리돼 있다\n- [ ] 단위 테스트(“생성 SQL/파라미터” 검증 수준)가 존재한다\n- [ ] dev Databricks에서 최소 1회 스모크 실행이 성공한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 16:26:32","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-608f","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-608f","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-608f","from_type":"issue","to":"i-3rwg","to_type":"issue","type":"blocks"},{"from":"i-608f","from_type":"issue","to":"i-904x","to_type":"issue","type":"blocks"},{"from":"i-608f","from_type":"issue","to":"i-93zh","to_type":"issue","type":"blocks"},{"from":"i-608f","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-08","gate:G2","task:DEV-014","verify:L2"]}
{"id":"i-6570","uuid":"dd3c4a68-f74c-4bf5-9ccd-aa008bc0e04e","title":"DEV-010: 모든 노드/엣지가 연결된 LangGraph가 실행되면 END까지 상태가 흐른다","content":"Roadmap Task ID: DEV-010\nGate: G2\nEpic: EPIC-05 - 프로젝트 스켈레톤 + LangGraph 골격을 구축한다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-001, DEV-002, DEV-009\n\nDoD Checklist:\n- [ ] `graph/graph.py`에 detect→collect→(analyze?)→triage→propose→interrupt→execute→verify→(rollback?)→postmortem의 전체 노드/엣지 구조가 §2.1 흐름과 동일하게 정의돼 있다\n- [ ] `report_only`, analyze 스킵, rollback, timeout 등 조건 엣지가 그래프 구조에 포함돼 있다(노드는 스텁이어도 됨)\n- [ ] 최소 1개 경로(정상 → END)가 로컬에서 graph.invoke로 끝까지 실행된다\n- [ ] 그래프 빌드/실행 스모크 테스트가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 18:57:22","closed_at":"2026-02-22 18:57:22","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6570","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"i-31ib","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"i-3rwg","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"i-5omm","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"i-6zrl","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"i-7a8f","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"i-904x","to_type":"issue","type":"blocks"},{"from":"i-6570","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-05","gate:G2","task:DEV-010","verify:L1"],"feedback":[{"id":"0a367d8d-b598-4d52-b5fb-a5112e1ecba3","from_id":"i-6570","to_id":"i-6570","feedback_type":"comment","content":"DEV-010 진행 중 의사결정 변경을 기록했습니다.\n\n- ADR: `docs/adr/0005-add-langgraph-fallback-shim.md`\n- 영향 스펙: `.specs/ai_agent_spec.md` (§2.1 LangGraph 상태 그래프 실행 경로)\n- 후속 이슈: [[i-1fgd]] (`ADR-0005: LangGraph 정식 의존성 경로를 확정한다`)\n\n요약: `langgraph` 설치 환경에서는 실제 LangGraph를 사용하고, 미설치 환경에서는 fallback shim으로 동일 그래프 계약을 유지하도록 결정했습니다.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T18:51:35.277Z","updated_at":"2026-02-22T18:51:35.277Z"},{"id":"993691a2-aa4f-46b8-8c9c-643929a5df22","from_id":"i-6570","to_id":"i-6570","feedback_type":"comment","content":"정정: ADR 번호를 사용자 요청에 따라 `0005`에서 `0006`으로 재할당했습니다.\n\n- 최종 ADR: `docs/adr/0006-add-langgraph-fallback-shim.md`\n- 연동 후속 이슈: [[i-1fgd]] (제목/태그를 ADR-0006 기준으로 갱신 완료)\n- 참고: 기존 코멘트의 ADR-0005 경로는 superseded 상태입니다.","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T18:54:58.385Z","updated_at":"2026-02-22T18:54:58.385Z"}]}
{"id":"i-6u2v","uuid":"94530a5b-0d0a-4077-958a-7803e5eea82f","title":"DEV-015: bad_records를 집계+샘플링하면 analyze 입력이 폭주하지 않는다","content":"Roadmap Task ID: DEV-015\nGate: G2\nEpic: EPIC-08 - 데이터 수집기(collect용 SQL 집계/샘플링)를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-001, DEV-002, DEV-009\n\nDoD Checklist:\n- [ ] `tools/bad_records_summarizer.py`(또는 동등)에 “유형별 집계 + 유형별 상위 10건 샘플”이 구현돼 있다(§2.4 샘플링 전략)\n- [ ] 결과 `bad_records_summary`의 크기가 상한(유형 개수/샘플 개수/필드 길이 제한) 내로 제한된다\n- [ ] 경계 테스트(0건, 1건, 1만건 이상 가정)가 존재한다\n- [ ] 샘플에 `record_json`이 포함되더라도 길이 제한/축약이 적용돼 로그/메모리 폭주가 없다\n- [ ] dev Databricks에서 최소 1회 스모크 실행이 성공한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 16:26:32","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6u2v","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-6u2v","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-6u2v","from_type":"issue","to":"i-3rwg","to_type":"issue","type":"blocks"},{"from":"i-6u2v","from_type":"issue","to":"i-904x","to_type":"issue","type":"blocks"},{"from":"i-6u2v","from_type":"issue","to":"i-93zh","to_type":"issue","type":"blocks"},{"from":"i-6u2v","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-08","gate:G2","task:DEV-015","verify:L2"]}
{"id":"i-6vgr","uuid":"c3670631-d7b3-4cc8-8a55-0a328b28e746","title":"DEV-007: ActionPlan을 화이트리스트+파라미터로 검증하면 execute가 허용된 조치만 수행한다","content":"Roadmap Task ID: DEV-007\nGate: G1\nEpic: EPIC-04 - Databricks 실행 액션 계약을 고정한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: -\n\nDoD Checklist:\n- [ ] `tools/action_plan.py`(또는 동등)에 화이트리스트 3종(`backfill_silver`, `retry_pipeline`, `skip_and_report`) 검증이 구현돼 있다\n- [ ] 액션별 필수 파라미터 스키마가 정의돼 있다(예: `backfill_silver`: `pipeline`, `date_kst`, `run_mode`)\n- [ ] 유효하지 않은 action/파라미터(누락/타입 오류/금지 파라미터)가 명확한 오류로 거부된다\n- [ ] 경계값 테스트(필수 파라미터 누락, action 오타, date 포맷 오류)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"closed","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 15:32:09","closed_at":"2026-02-22 15:32:09","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6vgr","from_type":"issue","to":"i-50eo","to_type":"issue","type":"blocks"},{"from":"i-6vgr","from_type":"issue","to":"i-6k1l","to_type":"issue","type":"blocks"},{"from":"i-6vgr","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-6vgr","from_type":"issue","to":"i-7wk0","to_type":"issue","type":"blocks"},{"from":"i-6vgr","from_type":"issue","to":"i-983e","to_type":"issue","type":"blocks"},{"from":"i-6vgr","from_type":"issue","to":"i-9tdp","to_type":"issue","type":"blocks"},{"from":"i-6vgr","from_type":"issue","to":"i-t8by","to_type":"issue","type":"blocks"},{"from":"i-6vgr","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-04","gate:G1","task:DEV-007","verify:L1"],"feedback":[{"id":"dd23ae92-0eda-474c-b546-0e648ceda05c","from_id":"i-6vgr","to_id":"s-6tbj","feedback_type":"comment","content":"DEV-007 implementation complete and merged into `dev`.\n\nImplemented strict ActionPlan contract validation in `src/sudocode_orchestrator/action_plan.py` with:\n- Whitelist of allowed actions: `backfill_silver`, `retry_pipeline`, `skip_and_report`\n- Per-action required parameter schemas\n- Explicit rejection for unknown action, missing required params, unexpected params, invalid types\n- `date_kst` format enforcement as `YYYY-MM-DD` for `backfill_silver`\n\nAdded boundary and positive tests in `tests/unit/test_action_plan.py` (action typo, missing required field, forbidden extra field, invalid date format, invalid type, valid payload paths).\n\nVerification: `pytest` passed (`134 passed`).\n\nADR recorded for low-impact schema-format decision rationale:\n- `docs/adr/0001-define-action-plan-parameter-schema.md`","agent":"salee","anchor":null,"dismissed":false,"created_at":"2026-02-22T15:32:08.081Z","updated_at":"2026-02-22T15:32:08.081Z"}]}
{"id":"i-6zrl","uuid":"6d9f37b7-5614-4c24-a86d-3ae713d7b3ab","title":"DEV-012: incident_id/fingerprint를 생성하면 동일 장애 재처리가 차단된다","content":"Roadmap Task ID: DEV-012\nGate: G2\nEpic: EPIC-07 - 체크포인터 + incident_id/fingerprint 중복방지 뼈대를 완성한다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006, DEV-009, DEV-010\n\nDoD Checklist:\n- [ ] `utils/incident.py`(또는 동등)에 `make_incident_id()`, `make_fingerprint()`가 구현돼 있다(§2.2 스키마/§2.3 중복 방지)\n- [ ] `detected_issues`가 순서가 달라도 동일 fingerprint가 나오도록 canonicalization이 구현돼 있다\n- [ ] 경계 테스트(run_id=None, detected_issues=[], 이슈 순서 변경)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6zrl","from_type":"issue","to":"i-1inh","to_type":"issue","type":"blocks"},{"from":"i-6zrl","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-6zrl","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-6zrl","from_type":"issue","to":"i-511g","to_type":"issue","type":"blocks"},{"from":"i-6zrl","from_type":"issue","to":"i-7a8f","to_type":"issue","type":"blocks"},{"from":"i-6zrl","from_type":"issue","to":"i-9s8w","to_type":"issue","type":"blocks"},{"from":"i-6zrl","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-07","gate:G2","task:DEV-012","verify:L1"]}
{"id":"i-795i","uuid":"5ead004c-5344-4ded-be1c-e564aa0c79da","title":"DEV-048: G1 통합 리뷰를 완료하면 Spec & 실행 환경 인터페이스의 개발 가능 상태를 게이트 단위로 확정할 수 있다","content":"Roadmap Task ID: DEV-048\nGate: G1\nEpic: EPIC-35 - G1 게이트 통합 리뷰를 수행한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-001, DEV-002, DEV-003, DEV-004, DEV-005, DEV-006, DEV-007, DEV-008\n\nDoD Checklist:\n- [ ] G1 범위 태스크(DEV-001~DEV-008)의 DoD 충족 여부가 체크리스트로 정리돼 있다\n- [ ] G1 목표(“Spec & 실행 환경 인터페이스가 개발 가능 상태로 고정”) 달성 여부와 근거(테스트/문서/설정)가 기록돼 있다\n- [ ] 문서 영향(`.specs/`, `docs/adr/`, `.roadmap/`)과 불일치 여부가 점검돼 있다\n- [ ] 미해결 리스크/후속 액션이 명시돼 있다\n- [ ] 기존 CI가 모두 통과한다\n- [ ] ---\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-795i","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-35","gate:G1","task:DEV-048","verify:L1"]}
{"id":"i-7a8f","uuid":"a5a87773-7dec-4c7d-a458-d5c0040ae998","title":"DEV-013: Sqlite 체크포인터와 thread_id 전략을 적용하면 프로세스 재시작 후 그래프가 재개된다","content":"Roadmap Task ID: DEV-013\nGate: G2\nEpic: EPIC-07 - 체크포인터 + incident_id/fingerprint 중복방지 뼈대를 완성한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006, DEV-009, DEV-010, DEV-011, DEV-012\n\nDoD Checklist:\n- [ ] `CHECKPOINT_DB_PATH`로 `SqliteSaver` 체크포인터가 초기화된다(로컬 기본값/Databricks 경로 모두 지원)\n- [ ] `incident_id`를 `thread_id`로 사용해 graph 실행이 시작된다(§체크포인터 설계)\n- [ ] `runtime/agent_runner.py`(또는 동등)에 **신규 실행**(invoke)과 **재개**(resume) 인터페이스가 정의돼 있다(후속 CLI/승인에서 재사용 가능)\n- [ ] (수명주기 추적) incident를 최소 메타(incident_id, pipeline, detected_at, fingerprint, status)를 남기는 **인덱스/레지스트리**(SQLite 내 별도 테이블 또는 동등)가 존재한다\n- [ ] 로컬에서 “중단 후 재실행(프로세스 종료 후 재시작)” 시 체크포인트를 읽어 **같은 incident_id로 재개 가능한 것**이 스모크로 확인된다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-7a8f","from_type":"issue","to":"i-1inh","to_type":"issue","type":"blocks"},{"from":"i-7a8f","from_type":"issue","to":"i-2e0w","to_type":"issue","type":"blocks"},{"from":"i-7a8f","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-7a8f","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-7a8f","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-7a8f","from_type":"issue","to":"i-9s8w","to_type":"issue","type":"blocks"},{"from":"i-7a8f","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-07","gate:G2","task:DEV-013","verify:L2"]}
{"id":"i-7eux","uuid":"138f1a14-50e8-4bde-ab57-79ed072503d5","title":"DEV-006: 환경별 설정 매트릭스를 문서로 고정하면 배포 시 사람이 헷갈리지 않는다","content":"Roadmap Task ID: DEV-006\nGate: G1\nEpic: EPIC-03 - 런타임 설정/시크릿 계약을 고정한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004\n\nDoD Checklist:\n- [ ] `.specs/runtime_config.md`에 Key Vault 키/환경변수 목록과 dev/staging/prod 값(또는 성격)이 기획서 표와 동일하게 정리돼 있다\n- [ ] “dev/staging은 dry-run 고정, prod는 live” 정책이 문서에 명시돼 있다\n- [ ] 문서가 코드(`utils/config.py`, `utils/secrets.py`)와 키 이름 수준에서 불일치가 없다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:18","updated_at":"2026-02-22 16:26:32","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-7eux","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-3yss","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-50eo","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-63cv","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-6zrl","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-795i","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-7a8f","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"i-9s8w","to_type":"issue","type":"blocks"},{"from":"i-7eux","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-03","gate:G1","task:DEV-006","verify:L1"]}
{"id":"i-2e0w","uuid":"dab9010f-98ac-461a-9d14-439fc8ab4fae","title":"DEV-016: detect가 트리거 규칙으로 이상을 판정하면 정상 시 LLM 0회로 종료된다","content":"Roadmap Task ID: DEV-016\nGate: G2\nEpic: EPIC-09 - detect 트리거 엔진을 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-002, DEV-009, DEV-010, DEV-011, DEV-012, DEV-013, DEV-014, DEV-015\n\nDoD Checklist:\n- [ ] `graph/nodes/detect.py`가 §2.3 트리거(실패/새 예외/CRITICAL DQ/컷오프 지연/정상)를 동일하게 판정한다\n- [ ] “컷오프 지연”은 report_only 경로로 라우팅된다(그래프 분기 동작)\n- [ ] “정상”은 heartbeat만 남기고 END로 종료된다(LLM 호출 0회 경로 보장)\n- [ ] fingerprint 중복인 경우 신규 incident 실행이 시작되지 않거나 즉시 스킵된다(정책이 코드로 고정)\n- [ ] 경계 테스트(임계값 정확히 같음/초과, WARN vs CRITICAL)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2e0w","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-2e0w","from_type":"issue","to":"i-31ib","to_type":"issue","type":"blocks"},{"from":"i-2e0w","from_type":"issue","to":"i-3rwg","to_type":"issue","type":"blocks"},{"from":"i-2e0w","from_type":"issue","to":"i-511g","to_type":"issue","type":"blocks"},{"from":"i-2e0w","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-2e0w","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-09","gate:G2","task:DEV-016","verify:L2"]}
{"id":"i-2ypg","uuid":"ad6eb722-8c49-4c44-8e74-cece604f9165","title":"DEV-049: G2 통합 리뷰를 완료하면 감지/수집/리포트 경로의 결정적 동작을 게이트 단위로 확정할 수 있다","content":"Roadmap Task ID: DEV-049\nGate: G2\nEpic: EPIC-36 - G2 게이트 통합 리뷰를 수행한다\nVerify: L2\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-009, DEV-010, DEV-011, DEV-012, DEV-013, DEV-014, DEV-015, DEV-016, DEV-017, DEV-018, DEV-019, DEV-020, DEV-021\n\nDoD Checklist:\n- [ ] G2 범위 태스크(DEV-009~DEV-021)의 DoD 충족 여부가 체크리스트로 정리돼 있다\n- [ ] G2 목표(“감지/수집/리포트 경로가 LLM 없이도 결정적으로 동작”) 달성 여부와 근거(테스트/스모크/로그)가 기록돼 있다\n- [ ] 문서 영향(`.specs/`, `docs/adr/`, `.roadmap/`)과 불일치 여부가 점검돼 있다\n- [ ] 미해결 리스크/후속 액션이 명시돼 있다\n- [ ] 기존 CI가 모두 통과한다\n- [ ] ---\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2ypg","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-36","gate:G2","task:DEV-049","verify:L2"]}
{"id":"i-31ib","uuid":"3cd69fa2-c696-4927-b311-1b7137d99372","title":"DEV-021: graph flow 테스트가 노드 전이를 고정하면 엣지 변경 회귀가 CI에서 잡힌다","content":"Roadmap Task ID: DEV-021\nGate: G2\nEpic: EPIC-12 - 결정적 경로에 대한 단위 테스트 베이스를 만든다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-010, DEV-016, DEV-017, DEV-018\n\nDoD Checklist:\n- [ ] 최소 2개 경로(정상 종료 / report_only 경로)가 그래프 전이 테스트로 고정돼 있다\n- [ ] 조건 엣지(컷오프 지연, analyze 스킵, rollback 분기)가 깨지면 CI에서 실패한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-31ib","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-31ib","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-12","gate:G2","task:DEV-021","verify:L1"]}
{"id":"i-3rwg","uuid":"ac56adfd-c484-47df-a758-cf3930cc7bcc","title":"DEV-017: collect가 exceptions/dq_tags/bad_records_summary를 채우면 후속 노드가 동일 입력으로 동작한다","content":"Roadmap Task ID: DEV-017\nGate: G2\nEpic: EPIC-10 - collect + report_only(결정적 리포트) 경로를 완성한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-009, DEV-010, DEV-011, DEV-014, DEV-015, DEV-016\n\nDoD Checklist:\n- [ ] `graph/nodes/collect.py`가 예외/태그/요약을 수집해 state(`exceptions`, `dq_tags`, `bad_records_summary`)를 채운다\n- [ ] “DQ 태그만(파이프라인 정상)” 케이스에서 analyze 스킵 경로가 유지된다(그래프 분기)\n- [ ] 수집 실패 시 Transient/Permanent 처리 원칙에 따라 에스컬레이션 또는 재시도 가능하도록 예외가 정리돼 있다\n- [ ] 단위 테스트(수집 결과 shape + DQ 태그 전용 경로 입력)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-3rwg","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-3rwg","from_type":"issue","to":"i-31ib","to_type":"issue","type":"blocks"},{"from":"i-3rwg","from_type":"issue","to":"i-511g","to_type":"issue","type":"blocks"},{"from":"i-3rwg","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-3rwg","from_type":"issue","to":"i-7wk0","to_type":"issue","type":"blocks"},{"from":"i-3rwg","from_type":"issue","to":"i-8ado","to_type":"issue","type":"blocks"},{"from":"i-3rwg","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-10","gate:G2","task:DEV-017","verify:L2"]}
{"id":"i-511g","uuid":"0c6816ae-0d22-44ad-944b-aebb655a5731","title":"DEV-020: deterministic 감지 분기 테스트가 통과하면 정상/지연/실패 회귀가 차단된다","content":"Roadmap Task ID: DEV-020\nGate: G2\nEpic: EPIC-12 - 결정적 경로에 대한 단위 테스트 베이스를 만든다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-011, DEV-012, DEV-016, DEV-017, DEV-018\n\nDoD Checklist:\n- [ ] 시나리오 E(정상)에서 END로 종료되고 LLM이 호출되지 않는 테스트가 있다\n- [ ] 시나리오(지연/실패/CRITICAL DQ/새 예외)별로 detect 판정이 기대와 일치하는 테스트가 있다\n- [ ] fingerprint가 이슈 순서에 무관하게 동일하게 생성되는 테스트가 있다\n- [ ] 경계값(임계값 정확히 같음/초과)이 테스트로 고정돼 있다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-511g","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-511g","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-12","gate:G2","task:DEV-020","verify:L1"]}
{"id":"i-5omm","uuid":"b5a8500a-64bd-4db6-b2c9-1f0a102abe05","title":"DEV-022: Prompt Registry로 프롬프트 버전을 로드하면 노드가 버전 기반으로 프롬프트를 사용한다","content":"Roadmap Task ID: DEV-022\nGate: G3\nEpic: EPIC-13 - Prompt Registry(파일 기반 버전관리)를 구축한다\nVerify: L1\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-009, DEV-010\n\nDoD Checklist:\n- [ ] `prompts/registry.yaml`이 생성되고 `dq01_bad_records`, `ops01_triage`, `pm01_postmortem` 엔트리가 §3.3 예시와 정합하다\n- [ ] `llmops/prompt_registry.py`가 active_version의 프롬프트 텍스트+메타(model/temperature)를 로드한다\n- [ ] `prompts/{dq01,ops01,pm01}/v1.0.txt`와 `v1.0_meta.yaml`가 존재하고, JSON-only/안전 규칙이 포함돼 있다\n- [ ] 레지스트리 로딩 실패(키 없음/버전 없음)가 명확한 에러로 fail-fast한다\n- [ ] 단위 테스트(정상 로드 + 누락 실패)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"needs_review","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-23 05:54:45","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-5omm","from_type":"issue","to":"i-1pds","to_type":"issue","type":"blocks"},{"from":"i-5omm","from_type":"issue","to":"i-2eda","to_type":"issue","type":"blocks"},{"from":"i-5omm","from_type":"issue","to":"i-2mhh","to_type":"issue","type":"blocks"},{"from":"i-5omm","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-5omm","from_type":"issue","to":"i-5rwe","to_type":"issue","type":"blocks"},{"from":"i-5omm","from_type":"issue","to":"i-7wk0","to_type":"issue","type":"blocks"},{"from":"i-5omm","from_type":"issue","to":"i-8ado","to_type":"issue","type":"blocks"},{"from":"i-5omm","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-13","gate:G3","task:DEV-022","verify:L1"]}
{"id":"i-5rwe","uuid":"a9004524-655e-470d-8822-a988c45831fa","title":"DEV-050: G3 통합 리뷰를 완료하면 LLM 분석/트리아지의 스키마-강제 + 안전한 제안 경로를 게이트 단위로 확정할 수 있다","content":"Roadmap Task ID: DEV-050\nGate: G3\nEpic: EPIC-37 - G3 게이트 통합 리뷰를 수행한다\nVerify: L2\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-022, DEV-023, DEV-024, DEV-025, DEV-026\n\nDoD Checklist:\n- [ ] G3 범위 태스크(DEV-022~DEV-026)의 DoD 충족 여부가 체크리스트로 정리돼 있다\n- [ ] G3 목표(“LLM 분석/트리아지가 스키마-강제 + 안전한 제안 형태로 생성”) 달성 여부와 근거(테스트/스모크/가드레일)가 기록돼 있다\n- [ ] 문서 영향(`.specs/`, `docs/adr/`, `.roadmap/`)과 불일치 여부가 점검돼 있다\n- [ ] 미해결 리스크/후속 액션이 명시돼 있다\n- [ ] 기존 CI가 모두 통과한다\n- [ ] ---\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-5rwe","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-37","gate:G3","task:DEV-050","verify:L2"]}
{"id":"i-608x","uuid":"c98b3116-e270-49ff-85ff-92860dab4d70","title":"DEV-026: LLM 캡/실패 시 fallback이 동작하면 비용 0에서도 경고 리포트가 유지된다","content":"Roadmap Task ID: DEV-026\nGate: G3\nEpic: EPIC-17 - 디그레이드 모드용 deterministic triage 템플릿을 구현한다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-023, DEV-024, DEV-025\n\nDoD Checklist:\n- [ ] LLM 캡 도달 시 analyze/triage가 LLM 호출 없이 fallback으로 전환되는 동작이 테스트로 고정돼 있다\n- [ ] fallback 결과가 `skip_and_report`를 생성하고, report_only 경로로 이어질 수 있다\n- [ ] Transient 재시도 소진 후 fallback/에스컬레이션 정책이 테스트로 고정돼 있다\n- [ ] 경계 테스트(캡 정확히 도달/초과, 연속 실패 횟수 경계)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-608x","from_type":"issue","to":"i-5rwe","to_type":"issue","type":"blocks"},{"from":"i-608x","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-17","gate:G3","task:DEV-026","verify:L1"]}
{"id":"i-7kd6","uuid":"1ac395c0-32e5-40c7-bb18-793e425a378c","title":"DEV-019: watchdog가 5분 주기 실행으로 대상 파이프라인을 폴링하면 자동 감지가 운영에서 돈다","content":"Roadmap Task ID: DEV-019\nGate: G2\nEpic: EPIC-11 - watchdog/entrypoint 실행 진입점을 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006, DEV-013, DEV-016, DEV-017, DEV-018\n\nDoD Checklist:\n- [ ] `entrypoint.py`가 Databricks Job에서 실행 가능한 형태로 `watchdog.run_once()`(또는 동등)를 호출한다\n- [ ] `TARGET_PIPELINES` 기반으로 대상 파이프라인이 선택된다\n- [ ] 일배치 파이프라인은 “예상 완료 이후 윈도우”에서만 판정하고, `pipeline_a`는 5분 주기 폴링 규칙을 따른다(§2.3)\n- [ ] 정상 상태에서 heartbeat 로그/이벤트가 남는다(최소 콘솔 로그라도 일관되게)\n- [ ] 단위 테스트(폴링 윈도우 계산, 대상 파이프라인 파싱)가 존재한다\n- [ ] dev Databricks에서 1회 실행 스모크가 성공한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-7kd6","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-7kd6","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-7kd6","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-7kd6","from_type":"issue","to":"i-61p7","to_type":"issue","type":"blocks"},{"from":"i-7kd6","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-11","gate:G2","task:DEV-019","verify:L2"]}
{"id":"i-7wk0","uuid":"fed604ec-a1c4-4c30-8019-1f3ea1299dca","title":"DEV-025: triage가 TriageReport를 검증하고 action_plan을 합성하면 propose/execute가 SSOT만 참조한다","content":"Roadmap Task ID: DEV-025\nGate: G3\nEpic: EPIC-16 - triage 노드(스키마 강제 + action_plan SSOT)를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-007, DEV-008, DEV-017, DEV-022, DEV-023, DEV-024\n\nDoD Checklist:\n- [ ] `graph/nodes/triage.py`가 `ops01_triage`를 호출하고 `triage_report_raw`(원문)와 `triage_report`(검증 통과 dict)를 분리 저장한다\n- [ ] `TriageReport` Pydantic 검증을 통과해야만 `triage_report`가 저장되고, 실패 시 Permanent 에러로 에스컬레이션된다(§2.4)\n- [ ] `action_plan`이 합성 규칙대로 생성되고(`proposed_action`+`expected_outcome`+`caveats`), `tools/action_plan.py`로 2차 검증된다\n- [ ] analyze 스킵 경로에서 `dq_analysis=None`을 넣어도 triage가 동작하며, 보수적으로 `skip_and_report`를 제안할 수 있다\n- [ ] 경계 테스트(화이트리스트 외 action, 파라미터 누락, JSON 파싱 실패)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-7wk0","from_type":"issue","to":"i-1pds","to_type":"issue","type":"blocks"},{"from":"i-7wk0","from_type":"issue","to":"i-2mhh","to_type":"issue","type":"blocks"},{"from":"i-7wk0","from_type":"issue","to":"i-30fk","to_type":"issue","type":"blocks"},{"from":"i-7wk0","from_type":"issue","to":"i-5rwe","to_type":"issue","type":"blocks"},{"from":"i-7wk0","from_type":"issue","to":"i-608x","to_type":"issue","type":"blocks"},{"from":"i-7wk0","from_type":"issue","to":"i-983e","to_type":"issue","type":"blocks"},{"from":"i-7wk0","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-16","gate:G3","task:DEV-025","verify:L2"]}
{"id":"i-8ado","uuid":"414171bd-3a55-4930-af22-d7d3c7f43a21","title":"DEV-024: analyze가 bad_records_summary를 JSON 분석으로 바꾸면 불량 패턴과 수정 가이드가 생성된다","content":"Roadmap Task ID: DEV-024\nGate: G3\nEpic: EPIC-15 - analyze 노드(bad_records 분석)를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-017, DEV-018, DEV-022, DEV-023\n\nDoD Checklist:\n- [ ] `graph/nodes/analyze.py`가 `bad_records_summary`를 입력으로 `dq01_bad_records`를 호출해 `state.dq_analysis`에 JSON 문자열을 저장한다\n- [ ] 샘플링/요약 입력만 사용하고, 전수 bad_records를 LLM 입력으로 넣지 않는다(폭주 방지)\n- [ ] 출력이 JSON 파싱 불가일 때의 처리(디그레이드 또는 에스컬레이션)가 정책으로 고정돼 있다\n- [ ] 경계 테스트(불량 0건, 다유형, 대량 가정)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-8ado","from_type":"issue","to":"i-1pds","to_type":"issue","type":"blocks"},{"from":"i-8ado","from_type":"issue","to":"i-2mhh","to_type":"issue","type":"blocks"},{"from":"i-8ado","from_type":"issue","to":"i-5rwe","to_type":"issue","type":"blocks"},{"from":"i-8ado","from_type":"issue","to":"i-608x","to_type":"issue","type":"blocks"},{"from":"i-8ado","from_type":"issue","to":"i-7wk0","to_type":"issue","type":"blocks"},{"from":"i-8ado","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-15","gate:G3","task:DEV-024","verify:L2"]}
{"id":"i-904x","uuid":"011f140e-f9ee-43ae-82e1-1f965a17770c","title":"DEV-018: report_only가 리포트를 저장하면 경고/거부 경로가 완결된다","content":"Roadmap Task ID: DEV-018\nGate: G2\nEpic: EPIC-10 - collect + report_only(결정적 리포트) 경로를 완성한다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-009, DEV-010, DEV-011, DEV-014, DEV-015\n\nDoD Checklist:\n- [ ] `graph/nodes/report_only.py`가 `final_status=\"reported\"`를 설정한다\n- [ ] report payload(incident_id, pipeline, detected_issues, 주요 상태)를 **결정적으로** 구성해 저장/출력한다(저장 매체는 최소 1개: 파일/로그/체크포인트 내 아티팩트)\n- [ ] 시간 표시는 KST 변환을 사용한다(DEV-011 활용)\n- [ ] 경계 테스트(issues 비어있음, pipeline_states 없음)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-904x","from_type":"issue","to":"i-2ypg","to_type":"issue","type":"blocks"},{"from":"i-904x","from_type":"issue","to":"i-31ib","to_type":"issue","type":"blocks"},{"from":"i-904x","from_type":"issue","to":"i-511g","to_type":"issue","type":"blocks"},{"from":"i-904x","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-904x","from_type":"issue","to":"i-8ado","to_type":"issue","type":"blocks"},{"from":"i-904x","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-10","gate:G2","task:DEV-018","verify:L1"]}
{"id":"i-9s8w","uuid":"724c136c-bc5e-475a-9577-1f0faf0c43a6","title":"DEV-023: Azure OpenAI 클라이언트가 timeout/retry/cap를 적용하면 LLM 장애에도 에이전트가 디그레이드한다","content":"Roadmap Task ID: DEV-023\nGate: G3\nEpic: EPIC-14 - LLM 호출 래퍼 + 비용/장애 가드레일을 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006, DEV-012, DEV-013\n\nDoD Checklist:\n- [ ] `tools/llm_client.py`(또는 동등)에 60초 타임아웃, 429 재시도(2s→4s→8s, 최대 3회)가 구현돼 있다(§2.5)\n- [ ] Permanent(401/403/404, 파싱/검증 실패 등)는 재시도하지 않는다\n- [ ] `LLM_DAILY_CAP`을 초과하면 “디그레이드 모드”로 전환할 수 있는 신호(예: 예외/리턴 코드)가 제공된다\n- [ ] `LLM_DAILY_CAP` 미설정 시 기본값 30을 사용하고, 설정 시 해당 값으로 캡 판정을 수행한다\n- [ ] 캡 카운트가 실행 간에도 유지되도록(예: 체크포인터 SQLite 내 별도 테이블) 최소한의 영속 저장이 있다\n- [ ] 단위 테스트(429 재시도, Permanent 무재시도, 캡 도달)가 존재한다\n- [ ] dev 환경에서 1회 LLM 호출 스모크(또는 완전 모킹)가 가능하다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:19","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-9s8w","from_type":"issue","to":"i-1pds","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"i-2eda","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"i-2mhh","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"i-5rwe","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"i-608x","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"i-7wk0","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"i-8ado","to_type":"issue","type":"blocks"},{"from":"i-9s8w","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-14","gate:G3","task:DEV-023","verify:L2"]}
{"id":"i-1inh","uuid":"5ca00ae7-5436-49cf-9391-cbde7c7fc39c","title":"DEV-030: incident_id로 그래프를 resume하는 runner가 제공되면 중단된 실행을 이어갈 수 있다","content":"Roadmap Task ID: DEV-030\nGate: G4\nEpic: EPIC-20 - 체크포인트 재개/수정 루프를 운영 가능한 형태로 만든다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-012, DEV-013, DEV-028, DEV-029\n\nDoD Checklist:\n- [ ] `runtime/agent_runner.py`에 `resume(incident_id, payload)`(또는 동등)가 구현돼 있다\n- [ ] resume payload로 approve/reject/modify가 interrupt 노드에 전달되어 그래프가 이어서 실행된다\n- [ ] 동일 incident(thread)에서 modify→re-propose가 반복되어도 상태가 유실되지 않는다\n- [ ] 로컬에서 sqlite 체크포인터 기반 “interrupt 후 resume” 스모크가 통과한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-1inh","from_type":"issue","to":"i-2anp","to_type":"issue","type":"blocks"},{"from":"i-1inh","from_type":"issue","to":"i-61p7","to_type":"issue","type":"blocks"},{"from":"i-1inh","from_type":"issue","to":"i-6k1l","to_type":"issue","type":"blocks"},{"from":"i-1inh","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-20","gate:G4","task:DEV-030","verify:L2"]}
{"id":"i-2anp","uuid":"374f5d55-028c-4267-a97d-459cac552028","title":"DEV-051: G4 통합 리뷰를 완료하면 HITL 승인/타임아웃/알림 운영 플로우를 게이트 단위로 확정할 수 있다","content":"Roadmap Task ID: DEV-051\nGate: G4\nEpic: EPIC-38 - G4 게이트 통합 리뷰를 수행한다\nVerify: L2\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-027, DEV-028, DEV-029, DEV-030, DEV-031, DEV-032\n\nDoD Checklist:\n- [ ] G4 범위 태스크(DEV-027~DEV-032)의 DoD 충족 여부가 체크리스트로 정리돼 있다\n- [ ] G4 목표(“HITL 승인(Interrupt/CLI/Timeout)과 알림이 운영 플로우로 고정”) 달성 여부와 근거(테스트/스모크/이벤트 로그)가 기록돼 있다\n- [ ] 문서 영향(`.specs/`, `docs/adr/`, `.roadmap/`)과 불일치 여부가 점검돼 있다\n- [ ] 미해결 리스크/후속 액션이 명시돼 있다\n- [ ] 기존 CI가 모두 통과한다\n- [ ] ---\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2anp","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-38","gate:G4","task:DEV-051","verify:L2"]}
{"id":"i-2eda","uuid":"723c4609-0f98-4ef1-a477-dd9f2ddfe993","title":"DEV-038: postmortem이 resolved 사건의 초안을 생성하면 대응 기록이 자동 문서화된다","content":"Roadmap Task ID: DEV-038\nGate: G5\nEpic: EPIC-27 - postmortem 노드를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-022, DEV-023, DEV-035, DEV-036\n\nDoD Checklist:\n- [ ] `graph/nodes/postmortem.py`가 `final_status=\"resolved\"`에서만 실행된다\n- [ ] `pm01_postmortem` 프롬프트로 마크다운을 생성해 `postmortem_report`, `postmortem_generated_at`을 기록한다\n- [ ] 생성 실패 시 `POSTMORTEM_FAILED` 경고만 남기고 `final_status`는 변경하지 않는다(§2.4)\n- [ ] 단위 테스트(실행 조건, 실패 경고 경로)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2eda","from_type":"issue","to":"i-1pds","to_type":"issue","type":"blocks"},{"from":"i-2eda","from_type":"issue","to":"i-2mhh","to_type":"issue","type":"blocks"},{"from":"i-2eda","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-2eda","from_type":"issue","to":"i-9r2a","to_type":"issue","type":"blocks"},{"from":"i-2eda","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-27","gate:G5","task:DEV-038","verify:L2"]}
{"id":"i-30fk","uuid":"c25859ec-dedc-4df8-8b2d-98fe7b642045","title":"DEV-028: propose가 승인 요청을 기록하고 TRIAGE_READY 이벤트를 emit하면 HITL 프로세스가 시작된다","content":"Roadmap Task ID: DEV-028\nGate: G4\nEpic: EPIC-19 - propose + interrupt(HITL) 워크플로우를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-025, DEV-027\n\nDoD Checklist:\n- [ ] `graph/nodes/propose.py`가 `approval_requested_ts`(UTC ISO8601)를 기록한다\n- [ ] `TRIAGE_READY` 이벤트에 incident_id/pipeline/요약/action_plan이 포함돼 전송된다\n- [ ] propose가 `action_plan`을 변경하지 않고 읽기 전용으로 사용한다(SSOT 준수)\n- [ ] 단위 테스트(필드 write, 이벤트 payload)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-30fk","from_type":"issue","to":"i-1inh","to_type":"issue","type":"blocks"},{"from":"i-30fk","from_type":"issue","to":"i-2anp","to_type":"issue","type":"blocks"},{"from":"i-30fk","from_type":"issue","to":"i-61p7","to_type":"issue","type":"blocks"},{"from":"i-30fk","from_type":"issue","to":"i-983e","to_type":"issue","type":"blocks"},{"from":"i-30fk","from_type":"issue","to":"i-9tdp","to_type":"issue","type":"blocks"},{"from":"i-30fk","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-19","gate:G4","task:DEV-028","verify:L2"]}
{"id":"i-3yss","uuid":"1f4d101d-0363-4244-a041-2dd08a6c5ad3","title":"DEV-027: Log Analytics로 이벤트 로그를 전송하면 Azure Monitor가 알림 트리거를 받을 수 있다","content":"Roadmap Task ID: DEV-027\nGate: G4\nEpic: EPIC-18 - Log Analytics 기반 알림 전송을 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006\n\nDoD Checklist:\n- [ ] `tools/alerting.py`가 Log Analytics DCR 기반으로 이벤트를 전송한다(최소: payload JSON 직렬화 + 요청 전송)\n- [ ] 이벤트 타입/심각도(`TRIAGE_READY`, `APPROVAL_TIMEOUT`, `EXECUTION_FAILED`, `POSTMORTEM_FAILED` 등)가 코드 상수로 표준화돼 있다\n- [ ] 전송 실패 시 Transient/Permanent 분류가 가능하고, Transient는 제한적 재시도 정책이 있다\n- [ ] 단위 테스트(HTTP mock)가 존재한다\n- [ ] dev에서 테스트 이벤트 1회 전송 스모크가 성공한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-3yss","from_type":"issue","to":"i-2anp","to_type":"issue","type":"blocks"},{"from":"i-3yss","from_type":"issue","to":"i-30fk","to_type":"issue","type":"blocks"},{"from":"i-3yss","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-3yss","from_type":"issue","to":"i-61p7","to_type":"issue","type":"blocks"},{"from":"i-3yss","from_type":"issue","to":"i-983e","to_type":"issue","type":"blocks"},{"from":"i-3yss","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-18","gate:G4","task:DEV-027","verify:L2"]}
{"id":"i-47vq","uuid":"82a028c3-2ea6-4eed-8985-3dab726d95ba","title":"DEV-039: 시나리오 A~F E2E 재현이 가능하면 릴리즈 회귀를 사전에 차단한다","content":"Roadmap Task ID: DEV-039\nGate: G5\nEpic: EPIC-28 - 시나리오 A~F E2E 흐름을 검증 가능한 형태로 만든다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-019, DEV-031, DEV-032, DEV-035, DEV-036, DEV-037, DEV-038\n\nDoD Checklist:\n- [ ] 시나리오 A~F(§5.1)를 재현하는 테스트 하네스/스크립트(모킹+스테이징 혼합 가능)가 존재한다\n- [ ] 시나리오 E(정상)에서 LLM 호출이 0회임을 검증한다(비용 0 경로)\n- [ ] 시나리오 A/B/C/D/F의 `final_status`와 알림 이벤트 타입이 기대와 일치한다\n- [ ] 실행 방법(runbook)이 문서로 남아 있다\n- [ ] staging에서 최소 A/E 1회 스모크가 성공한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-47vq","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-47vq","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-47vq","from_type":"issue","to":"i-9r2a","to_type":"issue","type":"blocks"},{"from":"i-47vq","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-28","gate:G5","task:DEV-039","verify:L3"]}
{"id":"i-50eo","uuid":"9cb5797e-42b6-4577-98b6-f42486f55a40","title":"DEV-033: Databricks Jobs API wrapper가 dry-run/live로 실행되면 execute가 안전하게 잡을 호출한다","content":"Roadmap Task ID: DEV-033\nGate: G5\nEpic: EPIC-23 - Databricks Jobs API 도구 래퍼를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006, DEV-007, DEV-008\n\nDoD Checklist:\n- [ ] `tools/databricks_jobs.py`에 `run_databricks_job`, `check_job_status`(또는 동등)가 구현돼 있다\n- [ ] `agent-execute-mode`(dry-run/live)가 반영되어 dry-run은 실제 API를 호출하지 않는다\n- [ ] “잡 실행 요청 후 타임아웃” 케이스에서 재시도 전에 `check_job_status`로 실행 여부를 확인한다(§2.5 특수 처리)\n- [ ] 단위 테스트(HTTP mock, 타임아웃 특수 처리, 5xx 재시도)가 존재한다\n- [ ] dev에서 dry-run 스모크가 통과한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-50eo","from_type":"issue","to":"i-9r2a","to_type":"issue","type":"blocks"},{"from":"i-50eo","from_type":"issue","to":"i-9tdp","to_type":"issue","type":"blocks"},{"from":"i-50eo","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-23","gate:G5","task:DEV-033","verify:L2"]}
{"id":"i-52vw","uuid":"4cbbcac2-8d51-486a-8f71-d04269be7f4f","title":"DEV-037: rollback이 Delta RESTORE로 복구하면 blocking 실패 시 안전하게 되돌린다","content":"Roadmap Task ID: DEV-037\nGate: G5\nEpic: EPIC-26 - rollback 노드(Delta RESTORE)를 구현한다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-003, DEV-034, DEV-035, DEV-036\n\nDoD Checklist:\n- [ ] `graph/nodes/rollback.py`가 `pre_execute_table_version` 기반으로 `RESTORE TABLE`을 수행한다\n- [ ] 롤백 결과가 `execution_result`에 기록되고 `final_status=\"escalated\"`로 고정된다\n- [ ] `ROLLBACK_*` 이벤트가 알림으로 전송된다(DEV-027 활용)\n- [ ] staging에서 **테스트용 Delta 테이블**로 1회 RESTORE 스모크가 성공한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-52vw","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-52vw","from_type":"issue","to":"i-9r2a","to_type":"issue","type":"blocks"},{"from":"i-52vw","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-26","gate:G5","task:DEV-037","verify:L3"]}
{"id":"i-61p7","uuid":"3ad370a8-f726-4106-96b4-e8d0419d4ff0","title":"DEV-032: 승인 타임아웃 감시가 동작하면 30분 재알림과 60분 자동 종료가 수행된다","content":"Roadmap Task ID: DEV-032\nGate: G4\nEpic: EPIC-22 - 승인 타임아웃(30/60분) + 재알림 정책을 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-019, DEV-027, DEV-028, DEV-029, DEV-030\n\nDoD Checklist:\n- [ ] watchdog run_once가 “승인 대기 중 incident”를 식별할 수 있다(incident 레지스트리/인덱스 기반)\n- [ ] 30분 경과 시 `APPROVAL_REMINDER`가 **1회만** 전송된다(중복 방지)\n- [ ] 60분 경과 시 `final_status=\"escalated\"`로 전환되고 `APPROVAL_TIMEOUT` 이벤트가 전송된다(자동 실행 금지)\n- [ ] 경계 테스트(정확히 30/60분, 이미 리마인드 발송된 케이스)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-61p7","from_type":"issue","to":"i-2anp","to_type":"issue","type":"blocks"},{"from":"i-61p7","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-61p7","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-22","gate:G4","task:DEV-032","verify:L2"]}
{"id":"i-6k1l","uuid":"9830a8a9-3618-4939-97d4-4b1070d23e19","title":"DEV-031: CLI로 incident를 resume하면 승인/거부/수정이 실제 실행 흐름에 반영된다","content":"Roadmap Task ID: DEV-031\nGate: G4\nEpic: EPIC-21 - CLI 승인 인터페이스를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-007, DEV-008, DEV-029, DEV-030\n\nDoD Checklist:\n- [ ] `agentctl approve|reject|modify`(또는 동등 CLI)가 제공된다\n- [ ] CLI가 `approval_requested_ts`를 KST로 표시하고, action_plan을 사람이 읽을 수 있게 출력한다\n- [ ] modify 시 파라미터 diff가 표시되고, `tools/action_plan.py` 검증을 통과해야 resume된다\n- [ ] 단위 테스트(인자 파싱, 잘못된 JSON/파라미터 거부)가 존재한다\n- [ ] 로컬/개발 환경에서 “approve로 resume” 스모크가 통과한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6k1l","from_type":"issue","to":"i-2anp","to_type":"issue","type":"blocks"},{"from":"i-6k1l","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-6k1l","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-21","gate:G4","task:DEV-031","verify:L2"]}
{"id":"i-6yef","uuid":"b05b2f4f-eff4-4fb4-a0f2-772b66f3613b","title":"DEV-036: verify가 #1~#5 결과로 final_status를 결정하면 resolved/failed/escalated가 일관된다","content":"Roadmap Task ID: DEV-036\nGate: G5\nEpic: EPIC-25 - verify 노드(Blocking/Non-blocking 검증)를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-003, DEV-034, DEV-035\n\nDoD Checklist:\n- [ ] `graph/nodes/verify.py`가 #1~#5를 실행하고 `validation_results`를 저장한다\n- [ ] #1 실패는 롤백 없이 즉시 `final_status=\"escalated\"`로 종료한다\n- [ ] #2/#3/#5 실패는 rollback 경로로 라우팅된다\n- [ ] #4는 non-blocking 경고로 기록되며 resolved 판정 자체를 막지 않는다\n- [ ] 결과별 테스트(resolved/failed/escalated)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6yef","from_type":"issue","to":"i-2eda","to_type":"issue","type":"blocks"},{"from":"i-6yef","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-6yef","from_type":"issue","to":"i-52vw","to_type":"issue","type":"blocks"},{"from":"i-6yef","from_type":"issue","to":"i-9r2a","to_type":"issue","type":"blocks"},{"from":"i-6yef","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-25","gate:G5","task:DEV-036","verify:L2"]}
{"id":"i-93zh","uuid":"09ad2da7-3dc7-4ce7-8885-909f24dd1ec5","title":"DEV-035: domain_validator가 verify SQL을 실행하면 데이터 정합성 검증이 자동화된다","content":"Roadmap Task ID: DEV-035\nGate: G5\nEpic: EPIC-25 - verify 노드(Blocking/Non-blocking 검증)를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-003, DEV-014, DEV-015, DEV-034\n\nDoD Checklist:\n- [ ] `tools/domain_validator.py`가 #2(건수), #3(중복), #4(DQ 태그), #5(bad_records_rate) 검증을 수행할 수 있다\n- [ ] 검증 결과가 구조화된 dict로 반환된다(측정값 + pass/fail + 임계값)\n- [ ] 경계 테스트(±50% 정확히 경계, 중복 1건, bad_records_rate 정확히 임계)가 존재한다\n- [ ] 단위 테스트(SQL 생성/파라미터 검증)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-93zh","from_type":"issue","to":"i-2eda","to_type":"issue","type":"blocks"},{"from":"i-93zh","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-93zh","from_type":"issue","to":"i-52vw","to_type":"issue","type":"blocks"},{"from":"i-93zh","from_type":"issue","to":"i-6yef","to_type":"issue","type":"blocks"},{"from":"i-93zh","from_type":"issue","to":"i-9r2a","to_type":"issue","type":"blocks"},{"from":"i-93zh","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-25","gate:G5","task:DEV-035","verify:L2"]}
{"id":"i-983e","uuid":"e1a97a5f-048f-43f2-b236-27456b442ae9","title":"DEV-029: interrupt가 approve/reject/modify/timeout을 처리하면 승인 결과에 따라 그래프가 분기된다","content":"Roadmap Task ID: DEV-029\nGate: G4\nEpic: EPIC-19 - propose + interrupt(HITL) 워크플로우를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-007, DEV-011, DEV-025, DEV-027, DEV-028\n\nDoD Checklist:\n- [ ] `graph/nodes/interrupt.py`가 LangGraph interrupt 메커니즘으로 “승인 대기” 상태를 만든다\n- [ ] approve/reject/modify/timeout 입력이 반영되어 `human_decision*` 필드가 채워진다\n- [ ] reject → `final_status=\"reported\"`로 전환되며 report_only로 종료할 수 있다\n- [ ] modify → `modified_params` diff가 남고, `action_plan`이 갱신되어 propose로 되돌아간다\n- [ ] timeout → `final_status=\"escalated\"`로 종료되며 알림 이벤트가 전송된다(30/60 정책은 DEV-032에서 감시)\n- [ ] 단위 테스트(각 decision 분기 + 필드 write)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-983e","from_type":"issue","to":"i-1inh","to_type":"issue","type":"blocks"},{"from":"i-983e","from_type":"issue","to":"i-2anp","to_type":"issue","type":"blocks"},{"from":"i-983e","from_type":"issue","to":"i-61p7","to_type":"issue","type":"blocks"},{"from":"i-983e","from_type":"issue","to":"i-6k1l","to_type":"issue","type":"blocks"},{"from":"i-983e","from_type":"issue","to":"i-9tdp","to_type":"issue","type":"blocks"},{"from":"i-983e","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-19","gate:G4","task:DEV-029","verify:L2"]}
{"id":"i-9tdp","uuid":"0d2a88be-e103-40f6-a070-c31d5c912189","title":"DEV-034: execute가 사전 Delta 버전 기록 후 조치를 실행하면 롤백 가능한 실행이 된다","content":"Roadmap Task ID: DEV-034\nGate: G5\nEpic: EPIC-24 - execute 노드(사전 스냅샷 기록 포함)를 구현한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-003, DEV-007, DEV-028, DEV-029, DEV-033\n\nDoD Checklist:\n- [ ] `graph/nodes/execute.py`가 `human_decision=\"approve\"`일 때만 실행된다(HITL 강제)\n- [ ] 실행 전 `pre_execute_table_version`이 기록된다(rollback 대상 테이블 DESCRIBE HISTORY 기반)\n- [ ] `action_plan`이 화이트리스트/파라미터 검증을 통과해야만 Databricks Job이 호출된다\n- [ ] 실행 결과(`execution_result`)에 job run 식별자/상태가 저장된다\n- [ ] 경계 테스트(approve 아님, action 불일치, 파라미터 누락)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:20","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-9tdp","from_type":"issue","to":"i-52vw","to_type":"issue","type":"blocks"},{"from":"i-9tdp","from_type":"issue","to":"i-6yef","to_type":"issue","type":"blocks"},{"from":"i-9tdp","from_type":"issue","to":"i-93zh","to_type":"issue","type":"blocks"},{"from":"i-9tdp","from_type":"issue","to":"i-9r2a","to_type":"issue","type":"blocks"},{"from":"i-9tdp","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-24","gate:G5","task:DEV-034","verify:L2"]}
{"id":"i-1pds","uuid":"497e73be-b894-42ff-8509-7e4a41f05195","title":"DEV-042: LLM-as-a-Judge 평가가 품질 기준을 통과해야 배포되면 자연어 품질 회귀가 차단된다","content":"Roadmap Task ID: DEV-042\nGate: G6\nEpic: EPIC-30 - Eval Runner(Deterministic + Judge)와 픽스처 세트를 구축한다\nVerify: L2\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-022, DEV-023, DEV-024, DEV-025, DEV-038, DEV-041\n\nDoD Checklist:\n- [ ] `prompts/judge/v1.0.*`와 `registry.yaml`의 `judge01_eval` 엔트리가 추가된다\n- [ ] eval_runner가 judge 모드에서 채점 JSON을 파싱하고, 기준(각 항목 ≥3, 평균 ≥4.0)을 적용한다\n- [ ] 비용/레이트리밋을 고려해 judge eval은 “수동 또는 nightly” 실행 경로가 준비돼 있다(결정적 eval은 CI 상시)\n- [ ] 단위 테스트(모킹된 judge 응답으로 pass/fail 판정)가 존재한다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-1pds","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-1pds","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-1pds","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-30","gate:G6","task:DEV-042","verify:L2"]}
{"id":"i-2mhh","uuid":"d3f2f27e-7393-4747-9fe4-378a59bfe185","title":"DEV-041: Eval Runner deterministic 검증이 fixtures로 실행되면 프롬프트 회귀가 CI에서 탐지된다","content":"Roadmap Task ID: DEV-041\nGate: G6\nEpic: EPIC-30 - Eval Runner(Deterministic + Judge)와 픽스처 세트를 구축한다\nVerify: L1\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-022, DEV-023, DEV-024, DEV-025, DEV-038\n\nDoD Checklist:\n- [ ] `llmops/eval_runner.py`가 `tests/eval/fixtures/*.json`를 로드해 deterministic 체크를 실행한다(§3.4)\n- [ ] 최소 fixture 세트(기획서 표의 파일 목록)가 저장돼 있다\n- [ ] pytest에서 deterministic eval이 실행되고(LLM 호출 없이) 실패 시 CI를 깨뜨린다\n- [ ] “파싱 성공/화이트리스트 포함/필드 값 일치” 같은 체크 유형이 구현돼 있다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2mhh","from_type":"issue","to":"i-1pds","to_type":"issue","type":"blocks"},{"from":"i-2mhh","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-2mhh","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-2mhh","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-30","gate:G6","task:DEV-041","verify:L1"]}
{"id":"i-2nua","uuid":"1ff9e3ea-9d29-4319-b7e3-1f8abb5d5174","title":"DEV-040: LangFuse 콜백을 주입하면 노드별 trace와 토큰/비용이 자동 수집된다","content":"Roadmap Task ID: DEV-040\nGate: G6\nEpic: EPIC-29 - LangFuse 트레이싱을 코드에 내장한다\nVerify: L2\nApproval: auto\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006, DEV-013, DEV-022, DEV-023, DEV-043, DEV-044, DEV-045\n\nDoD Checklist:\n- [ ] LangFuse `CallbackHandler`가 runner/graph.invoke에 주입된다(§3.2)\n- [ ] trace 메타에 `incident_id`, `pipeline`, `run_id`, `prompt_id`, `prompt_version`이 포함된다\n- [ ] LangFuse가 일시 장애여도 에이전트 실행이 실패하지 않고 경고 이벤트로 degrade한다\n- [ ] 단위 테스트(콜백 주입 여부)가 존재한다\n- [ ] dev/staging에서 1회 실행이 LangFuse UI에 표시된다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2nua","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-2nua","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-2nua","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-2nua","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:auto","epic:EPIC-29","gate:G6","task:DEV-040","verify:L2"]}
{"id":"i-2y1l","uuid":"94cc59e2-5851-45f2-a974-5866a0c0571f","title":"DEV-044: LangFuse 전용 PostgreSQL이 연결되면 trace 메타데이터가 영속 저장된다","content":"Roadmap Task ID: DEV-044\nGate: G6\nEpic: EPIC-31 - Self-Hosted LangFuse 인프라를 배포한다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-043\n\nDoD Checklist:\n- [ ] PostgreSQL Flexible Server(B1ms) 프로비저닝 절차(IaC 또는 실행 스크립트)가 준비돼 있다\n- [ ] LangFuse가 전용 DB에 연결되고 마이그레이션이 정상 수행된다\n- [ ] Pod 재시작 후에도 기존 trace가 유지되는 스모크가 통과한다\n- [ ] DB 접속 정보는 시크릿/Key Vault로 관리된다(평문 저장 금지)\n- [ ] staging에서 end-to-end trace 저장 스모크가 성공한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2y1l","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-2y1l","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-2y1l","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-2y1l","from_type":"issue","to":"i-7zqb","to_type":"issue","type":"blocks"},{"from":"i-2y1l","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-31","gate:G6","task:DEV-044","verify:L3"]}
{"id":"i-34cy","uuid":"d8dc0655-ffe4-4120-9187-1fb9c482eae9","title":"DEV-047: 운영 스모크가 통과하면 heartbeat/알림/trace/eval이 실제로 동작한다","content":"Roadmap Task ID: DEV-047\nGate: G6\nEpic: EPIC-34 - 운영 스모크 테스트 + 관측/알림 최소 기준을 잠근다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-039, DEV-040, DEV-041, DEV-042, DEV-043, DEV-044, DEV-045, DEV-046\n\nDoD Checklist:\n- [ ] 시나리오 E(정상) 스모크에서 heartbeat 이벤트가 Log Analytics에 남고, LLM 호출이 0회임이 확인된다\n- [ ] 최소 1개 장애 스모크에서 `TRIAGE_READY` 알림과 LangFuse trace가 동시에 확인된다\n- [ ] 승인 타임아웃 강제 케이스에서 30분 리마인드/60분 에스컬레이션 이벤트가 확인된다\n- [ ] deterministic eval은 CI에서 상시 통과, judge eval은 수동/야간 경로로 실행 가능하다\n- [ ] 운영 runbook(실패 시 확인 순서: Log Analytics → LangFuse trace → 체크포인터 상태)이 업데이트돼 있다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-34cy","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-34cy","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-34","gate:G6","task:DEV-047","verify:L3"]}
{"id":"i-3jp5","uuid":"3458d9cf-e953-4030-8679-2e3566dfaddf","title":"DEV-046: Databricks Job 배포 스펙이 스크립트/문서로 고정되면 환경별 배포가 재현된다","content":"Roadmap Task ID: DEV-046\nGate: G6\nEpic: EPIC-33 - Databricks Job 배포 형태를 고정한다\nVerify: L2\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-004, DEV-005, DEV-006, DEV-019, DEV-027, DEV-039, DEV-040, DEV-045\n\nDoD Checklist:\n- [ ] watchdog Job 스케줄(5분)과 실행 엔트리포인트가 배포 스펙으로 고정돼 있다\n- [ ] 환경변수/시크릿 주입 목록이 명확하고, dev/staging/prod 값 정책이 문서와 일치한다\n- [ ] `agent-execute-mode`로 dry-run/live가 전환되며 코드 변경 없이 동작한다\n- [ ] heartbeat 기반 경고(30분 무응답) 룰 연결 방법이 문서화돼 있다\n- [ ] dev/staging에서 Job 실행 스모크가 성공한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-3jp5","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-3jp5","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-3jp5","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-33","gate:G6","task:DEV-046","verify:L2"]}
{"id":"i-447o","uuid":"9de60e3c-1d5c-4f51-b0b0-234b30b7adbb","title":"DEV-053: G6 통합 리뷰를 완료하면 LLMOps(관측/버전/평가) + 배포 구성의 운영 가능 상태를 게이트 단위로 확정할 수 있다","content":"Roadmap Task ID: DEV-053\nGate: G6\nEpic: EPIC-40 - G6 게이트 통합 리뷰를 수행한다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-040, DEV-041, DEV-042, DEV-043, DEV-044, DEV-045, DEV-046, DEV-047\n\nDoD Checklist:\n- [ ] G6 범위 태스크(DEV-040~DEV-047)의 DoD 충족 여부가 체크리스트로 정리돼 있다\n- [ ] G6 목표(“LLMOps(관측/버전/평가) + 배포 구성이 운영 가능한 상태로 종료”) 달성 여부와 근거(관측/배포/평가 결과)가 기록돼 있다\n- [ ] 문서 영향(`.specs/`, `docs/adr/`, `.roadmap/`)과 불일치 여부가 점검돼 있다\n- [ ] 미해결 리스크/후속 액션이 명시돼 있다\n- [ ] 기존 CI가 모두 통과한다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-447o","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-40","gate:G6","task:DEV-053","verify:L3"]}
{"id":"i-63cv","uuid":"9e0b9c8b-4b09-44f8-95c3-649bf01f1f28","title":"DEV-043: LangFuse를 AKS에 내부 서비스로 배포하면 외부 SaaS 없이 트레이스를 조회한다","content":"Roadmap Task ID: DEV-043\nGate: G6\nEpic: EPIC-31 - Self-Hosted LangFuse 인프라를 배포한다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-006\n\nDoD Checklist:\n- [ ] LangFuse 배포 매니페스트(Helm 또는 K8s YAML)가 저장소에 추가돼 있다(Deployment + ClusterIP)\n- [ ] ACR 이미지 준비(빌드/푸시 절차 또는 검증된 이미지 사용 절차)가 문서/스크립트로 고정돼 있다\n- [ ] 외부 노출 없이 VNet 내부에서만 접근 가능한 형태가 확인된다\n- [ ] staging에서 LangFuse UI 접속 스모크가 성공한다\n- [ ] 롤백(배포 제거/이전 버전) 절차가 문서화돼 있다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-63cv","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-63cv","from_type":"issue","to":"i-2y1l","to_type":"issue","type":"blocks"},{"from":"i-63cv","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-63cv","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-63cv","from_type":"issue","to":"i-7zqb","to_type":"issue","type":"blocks"},{"from":"i-63cv","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-31","gate:G6","task:DEV-043","verify:L3"]}
{"id":"i-7zqb","uuid":"1c8e27a0-c581-4370-b74c-6ad4c72dc30b","title":"DEV-045: Private Endpoint/DNS/NSG 구성이 적용되면 Databricks·LangFuse·OpenAI 통신이 내부망으로 고정된다","content":"Roadmap Task ID: DEV-045\nGate: G6\nEpic: EPIC-32 - Private Endpoint/DNS/NSG 등 네트워크 연결을 완성한다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-043, DEV-044\n\nDoD Checklist:\n- [ ] `privatelink.postgres.database.azure.com`, `privatelink.openai.azure.com` 등 Private DNS 설정/레코드가 정의돼 있다(체크리스트 또는 IaC)\n- [ ] NSG 규칙이 기획서 네트워크 표와 정합하다(Databricks→LangFuse, LangFuse→DB, 내부 OpenAI PE 등)\n- [ ] staging에서 Databricks Job → LangFuse, LangFuse → PostgreSQL 통신 스모크가 성공한다\n- [ ] 변경 실패 시 롤백 플랜(규칙 되돌리기)이 문서화돼 있다\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-7zqb","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-7zqb","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-7zqb","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-7zqb","from_type":"issue","to":"i-447o","to_type":"issue","type":"blocks"},{"from":"i-7zqb","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-32","gate:G6","task:DEV-045","verify:L3"]}
{"id":"i-9r2a","uuid":"c76e7bf0-d155-4f55-8610-2e3019e8d67c","title":"DEV-052: G5 통합 리뷰를 완료하면 실행/검증/롤백/포스트모템 End-to-End 안전 경로를 게이트 단위로 확정할 수 있다","content":"Roadmap Task ID: DEV-052\nGate: G5\nEpic: EPIC-39 - G5 게이트 통합 리뷰를 수행한다\nVerify: L3\nApproval: manual\nSource Doc: `.specs/ai_agent_spec.md`\nDepends On: DEV-033, DEV-034, DEV-035, DEV-036, DEV-037, DEV-038, DEV-039\n\nDoD Checklist:\n- [ ] G5 범위 태스크(DEV-033~DEV-039)의 DoD 충족 여부가 체크리스트로 정리돼 있다\n- [ ] G5 목표(“실행/검증/롤백/포스트모템까지 안전한 End-to-End 완성”) 달성 여부와 근거(검증 결과/스모크/운영 기록)가 기록돼 있다\n- [ ] 문서 영향(`.specs/`, `docs/adr/`, `.roadmap/`)과 불일치 여부가 점검돼 있다\n- [ ] 미해결 리스크/후속 액션이 명시돼 있다\n- [ ] 기존 CI가 모두 통과한다\n- [ ] ---\n","status":"blocked","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-21 11:35:21","updated_at":"2026-02-21 18:32:17","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-9r2a","from_type":"issue","to":"s-6tbj","to_type":"spec","type":"implements"}],"tags":["approval:manual","epic:EPIC-39","gate:G5","task:DEV-052","verify:L3"]}
{"id":"i-t8by","uuid":"b8ee3b15-5aa4-4f3b-a930-aabf4f80071d","title":"spec-update: ADR-0003 ActionPlan 파라미터 계약을 .specs에 반영","content":"배경:\n- ADR-0003(`docs/adr/0003-define-action-plan-parameter-schema.md`)에서 execute 입력 경계를 엄격화하는 ActionPlan 스키마를 결정했다.\n- 현재 `.specs/ai_agent_spec.md`에는 허용 action 화이트리스트는 있으나, action별 필수 파라미터/추가 파라미터 거부/타입 오류 처리/`date_kst` 형식 엄격도/확장 정책이 완전하게 고정되어 있지 않다.\n\n작업 범위:\n1. `.specs/ai_agent_spec.md`에 ActionPlan 계약을 명시한다.\n   - 허용 action: `backfill_silver`, `retry_pipeline`, `skip_and_report`\n   - 필수 파라미터:\n     - `backfill_silver`: `pipeline`, `date_kst`, `run_mode`\n     - `retry_pipeline`: `pipeline`, `run_mode`\n     - `skip_and_report`: `pipeline`, `reason`\n2. execute 검증 규칙을 명시한다.\n   - 필수 파라미터 누락 시 거부\n   - 허용되지 않은 추가 파라미터 거부\n   - 타입 오류 거부\n   - `backfill_silver.date_kst`는 `YYYY-MM-DD` 형식만 허용\n3. 확장 정책을 명시한다.\n   - 파라미터 확장은 하위호환 영향 검토 후 스키마 버전 업(v2+)으로만 도입\n4. `run_mode`/`pipeline` enum 값 집합은 별도 스펙 이슈로 분리하거나, 본 문서에 현재 미고정 상태(TBD)를 명시해 해석 충돌을 방지한다.\n\n완료 기준:\n- `.specs/ai_agent_spec.md`에 위 계약이 검색 가능하게 반영되어 구현/테스트/운영 문서 간 해석 차이가 없어야 한다.","status":"closed","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-22 15:40:25","updated_at":"2026-02-22 18:51:45","closed_at":"2026-02-22 18:51:45","parent_id":null,"parent_uuid":null,"relationships":[],"tags":["adr","adr:0003","spec-update"]}
{"id":"i-875b","uuid":"cca63fba-3bb4-48a0-9adc-f9a88a110db8","title":"OPS: INFRA-READY 게이트 운영 (open 큐 보호)","content":"## 목적\n`/run-one`가 `open` 이슈를 자동 할당하므로, 인프라 미준비 기간에는 인프라 의존 이슈가 `open`으로 유입되지 않도록 게이트를 운영한다.\n\n## 상태 계약\n- `open`: 에이전트 자동 할당 가능\n- `in_progress`: 수동 운영/컨트롤 이슈\n- `blocked`: 외부 의존 대기\n\n## 운영 메타\n- owner: TBD\n- backup owner: TBD\n- gate 상태: CLOSED (인프라 준비 전)\n\n## 강제 규칙 (링크 기반)\n1. 본 이슈(`i-875b`)가 `blocks`로 연결한 이슈를 인프라 의존 이슈 집합으로 간주한다.\n2. gate=CLOSED 동안 연결된 인프라 이슈는 `open` 금지(`blocked` 유지).\n3. `/run-one` 전 프리플라이트: `open` 목록과 `i-875b`의 outgoing(`blocks`) 교집합이 0이어야 한다.\n\n## 재개 순서\n1) Stage 1: DEV-005, DEV-006\n2) Stage 2: DEV-014, DEV-015\n3) Stage 3: 나머지 G3~G6 인프라 연계 이슈\n\n## 롤백 규칙\n각 Stage에서 스모크 실패 시, 해당 Stage에서 재오픈한 이슈를 즉시 `blocked`로 복귀하고 원인/재시도 조건을 본 이슈에 기록한다.\n\n## 분류 메모\n- `i-6570`(DEV-010)은 현재 비인프라(그래프 골격)로 분류해 `open` 유지. 인프라 스모크 의존이 추가되면 본 이슈에 링크 후 `blocked`로 전환한다.","status":"in_progress","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-22 16:26:00","updated_at":"2026-02-22 16:27:24","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-875b","from_type":"issue","to":"i-2nua","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-2y1l","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-32vd","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-34cy","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-3jp5","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-3yss","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-47vq","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-50eo","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-52vw","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-608f","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-63cv","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-6u2v","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-7eux","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-7kd6","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-7zqb","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-93zh","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-9s8w","to_type":"issue","type":"blocks"},{"from":"i-875b","from_type":"issue","to":"i-9tdp","to_type":"issue","type":"blocks"}],"tags":["control","infra-gate","ops","run-one-safety"]}
{"id":"i-3enx","uuid":"1a5248b4-5b63-4d00-bf19-a834f6027643","title":"ADR-0005: ActionPlan 버전 판별자 SSOT를 분리 정의한다","content":"배경:\n- ADR-0005(`docs/adr/0005-defer-actionplan-version-discriminator.md`)에서 ActionPlan 버전 판별자(version discriminator)의 위치/필드/판별 방식을 TBD로 두고, v2+ 롤아웃 전에 별도 스펙 이슈로 선행 정의하기로 결정했다.\n- 현재 상태에서 v2+ 확장을 진행하면 구현체별 해석 불일치로 검증 규칙과 하위 호환 경계가 흔들릴 수 있어 후속 추적이 필요하다.\n\n작업 범위:\n1. ActionPlan v2+ 버전 판별자 규칙(위치, 필드명, 허용값/판별 규칙)을 SSOT 스펙에 명시한다.\n2. execute 검증 규칙에 버전 판별자 기준을 반영하고, v1 무버전 입력과의 호환/거부 정책을 명확히 고정한다.\n\n완료 기준 (DoD):\n- [ ] 실행 경로에서 v2+ ActionPlan 판별이 정의된 버전 판별자 규칙을 기준으로 동작한다. (Implementation gate)\n- [ ] `.specs/ai_agent_spec.md` 및 관련 스펙 문서가 ADR-0005 결정과 동일한 버전 판별 규칙을 명시한다. (Docs gate)\n- [ ] v1 입력(무버전 또는 기존 형식)의 처리 정책이 문서와 검증 로직에서 일관되게 확인된다.","status":"closed","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-22 18:45:07","updated_at":"2026-02-22 18:48:39","closed_at":"2026-02-22 18:48:39","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-3enx","from_type":"issue","to":"i-t8by","to_type":"issue","type":"discovered-from"}],"tags":["adr","adr:0005","decision-bearing"]}
{"id":"i-1fgd","uuid":"5a041db3-ebfa-4831-a6e5-df4745c86df1","title":"ADR-0006: LangGraph 정식 의존성 경로를 확정한다","content":"배경:\n- ADR-0006(`docs/adr/0006-add-langgraph-fallback-shim.md`)에서 `langgraph` 미설치 환경에서는 fallback shim으로 `build_graph()`를 동작시키고, 설치 환경에서는 실제 LangGraph를 사용하기로 결정했다.\n- 현재 결정은 DEV-010 범위의 실행 가능성 보장을 위한 임시 타협이므로, 정식 의존성/CI 경로를 확정하고 shim 유지 여부를 추적해야 한다.\n\n작업 범위:\n1. 저장소에서 LangGraph 정식 의존성(로컬/CI) 관리 방식을 확정하고 실행 환경에 반영한다.\n2. fallback shim의 유지/제거 기준을 정의하고, 기준에 따라 코드/테스트를 정리한다.\n\n완료 기준 (DoD):\n- [ ] Implementation gate: `graph/build_graph()`가 정식 LangGraph 의존성 경로에서 정상 동작하며 관련 테스트가 통과한다.\n- [ ] Docs gate: 영향받는 `.specs/` 문서(최소 `.specs/ai_agent_spec.md`)에 의존성/실행 정책이 ADR-0006 결정과 일치하게 반영된다.\n- [ ] ADR-0006 Rationale에서 남긴 후속 검토 항목( shim 유지 비용, 제거/축소 재평가 조건 )이 명시적으로 정리된다.","status":"needs_review","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-22 18:50:21","updated_at":"2026-02-23 05:53:00","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-1fgd","from_type":"issue","to":"i-6570","to_type":"issue","type":"discovered-from"},{"from":"i-1fgd","from_type":"issue","to":"i-81e1","to_type":"issue","type":"related"}],"tags":["adr","adr:0005","decision-bearing"]}
{"id":"i-81e1","uuid":"9071cdea-0a13-460a-a4e6-352bdfd5e6e7","title":"DEV-054: LangGraph shim 제거/축소 재평가를 실행한다","content":"배경:\n- ADR-0006(i-1fgd) 구현에서 LangGraph 정식 의존성 경로(`requirements.txt`)를 확정했고, `build_graph()`의 정식 경로 테스트를 추가했다.\n- fallback shim은 즉시 제거하지 않고 유지하기로 했으며, 유지 비용/제거·축소 재평가 조건을 ADR에 명시했다.\n\n작업 범위:\n1. 운영/CI에서 LangGraph 정식 경로 안정성 지표를 수집한다.\n2. shim 유지 비용(코드/테스트/문서 동기화 비용, 회귀 빈도)을 점검한다.\n3. ADR-0006에 정의된 조건 충족 여부를 판단해 shim 제거/축소/유지 중 하나로 결정안을 제시한다.\n\n완료 기준 (DoD):\n- [ ] 최근 기간(예: 2~4주) 동안 정식 경로 테스트 통과율 및 회귀 현황이 정리되어 있다.\n- [ ] shim 유지 비용에 대한 근거 데이터가 정리되어 있다.\n- [ ] 제거/축소/유지 중 권고안과 근거가 문서화되어 있다.","status":"blocked","priority":2,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-23 05:51:37","updated_at":"2026-02-23 05:51:41","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-81e1","from_type":"issue","to":"i-1fgd","to_type":"issue","type":"discovered-from"}],"tags":["adr:0006","decision-bearing","follow-up","langgraph"]}
{"id":"i-3mms","uuid":"fa9851e7-6a8d-433c-aa54-fd4a8c99d8e6","title":"ADR-0007: 활성 버전 메타 기반 model/temperature 로딩 규약을 반영한다","content":"배경:\n- ADR-0007(`docs/adr/0007-load-model-temperature-from-version-meta.md`)에서 `model/temperature`를 레지스트리 값이 아니라 활성 버전의 `{version}_meta.yaml`에서 로딩하기로 결정했다.\n- 결정 사항이 코드 경로와 문서 기준에 일관되게 반영되지 않으면 환경별 설정 충돌과 버전 재현성 저하가 다시 발생할 수 있어 후속 추적이 필요하다.\n\n작업 범위:\n1. `model/temperature` 로딩 경로가 활성 버전 `{version}_meta.yaml`만 참조하도록 구현 및 검증한다.\n2. 레지스트리 기반 로딩 가정이 남아 있는 설정/문서를 점검하고 ADR 기준으로 정합화한다.\n\n완료 기준 (DoD):\n- [ ] Implementation gate: 실행 경로에서 `model/temperature` 소스가 활성 버전 `{version}_meta.yaml`로 고정되었음을 테스트 또는 검증 로그로 확인한다.\n- [ ] Docs gate: 영향받는 `.specs/` 문서에 `model/temperature` 소스 기준이 ADR-0007과 일치하게 반영되었음을 확인한다.\n- [ ] 레지스트리 우선 또는 병합 로직이 남아 있지 않음을 코드 검색/리뷰 체크로 확인한다.","status":"open","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2026-02-23 05:53:11","updated_at":"2026-02-23 05:53:11","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-3mms","from_type":"issue","to":"i-5omm","to_type":"issue","type":"discovered-from"}],"tags":["adr","adr:0007","decision-bearing"]}
