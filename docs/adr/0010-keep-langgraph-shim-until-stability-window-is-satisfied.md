# ADR-0010: 2~4주 안정성 창 충족 전까지 LangGraph shim 유지

## Created At

2026-02-23 17:40 KST

## Status

Confirmed

## Context

ADR-0006은 `langgraph.graph` 디스커버리 가능 시 정식 경로를 사용하고, 미설치 부트스트랩 환경에서는 fallback shim을 허용하도록 결정했으며, 로컬 표준 환경과 CI L2에서 import/스모크가 연속 안정 통과하면 shim 제거/축소를 재평가하도록 후속 조건을 남겼다.
DEV-054 재평가 시점에서 GitHub Actions `CI L2` 가용 관측치는 최근 2일(2026-02-20~2026-02-21) 9건 성공으로 확인되었지만, 이슈 DoD가 요구한 2~4주 창에는 아직 도달하지 못했다. 해당 수치의 추출 기준/원시 근거(run_id, 링크)는 `docs/reports/2026-W08-langgraph-shim-reassessment.md`의 "추출 범위/필터(재현 가능 기준)" 및 "원시 근거(런 ID/링크)"에 기록했다.
후속 재평가(i-98nn)에서도 안정성 창 미충족으로 동일 결론을 재확인했으며, 상세 집계/판정은 `docs/reports/2026-W09-langgraph-shim-reassessment.md`와 후속 결정 `docs/adr/0011-reaffirm-langgraph-shim-until-formal-path-window.md`에 기록한다.
현재 시점에 shim을 제거하거나 강제 실패 경로로 전환하면 단기적으로는 경로 단순화 이점이 있으나, 표본 부족 상태에서 의사결정을 고정해 부트스트랩 환경 안정성을 해칠 수 있다.

## Decision

2~4주 안정성 창(정식 경로 import 게이트와 그래프 스모크의 연속 안정 통과)이 확보되기 전까지 LangGraph fallback shim을 유지하기로 결정한다.

## Rationale

대안 1은 즉시 shim 제거(또는 미설치 시 strict failover)였으며 런타임 경로 단순화 장점이 있지만, 현재 관측 기간이 짧아 회귀 탐지 신뢰도가 낮은 상태에서 안전망을 제거하는 위험이 커 채택하지 않았다.
대안 2는 shim 범위를 즉시 축소하는 방안이었으며 유지 비용 일부 절감이 가능하지만, 축소 기준을 검증할 운영 표본이 충분하지 않아 축소 자체가 또 다른 재작업 비용을 만들 수 있어 보류했다.
대안 3인 현상 유지 + 재평가 시점 고정은 단기 코드 단순화 효과는 작지만, ADR-0006의 재평가 조건을 데이터 기반으로 충족한 뒤 제거/축소를 결정할 수 있어 의사결정 품질이 높다.
트레이드오프로 shim 동기화 비용은 당분간 남지만, 현재 관측된 CI 회귀가 없고 비용 성격이 "즉시 장애"보다 "미래 변경 시 동기화 리스크"에 가까워 추가 관측 후 결정하는 편익이 더 크다.
